<!DOCTYPE html> <html> <head> <!-- Poof Proofing Format, for Twine 2, by Chapel; v1.6.3 --> <title>Poof: A Warm Place to Stay</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Poof Proofing Format, for Twine 2, by Chapel"> <meta name="theme-color" content="#ccc"> <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAGYktHRAD/AP8A/6C9p5MAAAOTSURBVFhH7ZVLLKRBEMf/M2MEyZA4eK2LqzPZhAuXXXEVDoSTjISErLAmDma9EnuwSGQjsrhKhHFAHMUSmyASJ0L2IEE8J8R7mN6qmq/HZzx297IOO7+kUt1d/XVVd1X3Z1EEXhGroV+NcADhAMIB/NE7MDMzgzGPB464OJydnOBjfT3epKYaVuDu7g49PT04Pj6GxWJBREQE/H4/HA4HqqqqEB0dbcx8Ag7gJWZnZ9XX/n6jF6ClrU15PB5pDw8Pq8bGRnV9fS19M5eXl8rlcqnp6Wlj5DG/DaDJ7RbtM+RWekp9GxhQnZ2dEoDm9vY2KD6fT9HJyHhNTY3op3iUgsmJCXyfn4c9MhJ2OsrxsTHMUN8REwM/2S0mycjIwNLSkhy3XsasWex2O1ZXV7G7u4u8vDyxmXkQgNvtRnZODt7l5hojwIHXi5+bm3ibmSkBMLpyQ50xHAyj+1wPOzs7mJycREpKCvb29pCeno6srCyxBwOYmpqCjYrlPTn3iSmwy4hA84Fz7ZALjjU71W0tmkg6yerqaiQlJaGwsFAKc2VlBSMjIxgcHJTFhIaGBtE3huiccxa1MORMhPPLwrlmubm5CQoXJAsX4dXVldQEwzbuM3Qqqq+vTwXfAT6e7f192KmtB82PhN45o4859LiZUBtrChAXFxei+cqenZ0hOTkZR0dH9z74mD63tuLH4iJs1GdhOA0vOTcTOkfzVIAM14d5k/jS1YVKpxMNLlfQMWu9QKhm/sYWGhilSYzC6Oio+tTcbPTuoY9EOI+cc33HzXnnvOqca6EjF9Hob3ktpq6uTtHVDLwDfPeP6YktLSmBjp8M0iZzYIDQO9BjfMdpUcmrHjPrGHo7KioqkJaWhtjYWNhsNnmuDw4OUF5eLteRJ6oPtbWsgpVOYQarXEfMO+Qd6Cpn5ubmlNfrlTG98/PzcxEqNJnT1NQkmgpO0Rsga5qxztMrV1pWJlHrfJNLuddWq1V0QUEBlpeXZQe8a77bzNDQEMiBjEVFRcl8jZ4jeSbi4+ORkJDwYI7A+ausrAyEEwLXhdPpVIeHh6qlpUW1t7crekBUb2+vor+c2traUqenp4pukOro6FDr6+vGl0otLCyooqIio/c8UgPb29vo7u6WnFE3mOvi4uJAngzYtrGxgcTERMTRr9kM73R8fBxra2uglCA7Oxv5+fmG9Xke/Ateg5CE/HvCAYQD+N8DAH4BqDgqhiHX0tcAAAAASUVORK5CYII=" type="image/png" /> <style type="text/css"> /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}/*! Pure v1.0.0 Copyright 2013 Yahoo! Licensed under the BSD License. https://github.com/yahoo/pure/blob/master/LICENSE.md *//*! normalize.css v^3.0 | MIT License | git.io/normalize Copyright (c) Nicolas Gallagher and Jonathan Neal *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */.pure-button:focus,a:active,a:hover{outline:0}.pure-table,table{border-collapse:collapse;border-spacing:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}.pure-button,input{line-height:normal}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}.pure-button,.pure-form input:not([type]),.pure-menu{box-sizing:border-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend,td,th{padding:0}legend{border:0}.hidden,[hidden]{display:none!important}.pure-img{max-width:100%;height:auto;display:block}.pure-g{letter-spacing:-.31em;text-rendering:optimizespeed;font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif;display:flex;flex-flow:row wrap;align-content:flex-start}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){table .pure-g{display:block}}.opera-only :-o-prefocus,.pure-g{word-spacing:-.43em}.pure-u,.pure-u-1,.pure-u-1-1,.pure-u-1-12,.pure-u-1-2,.pure-u-1-24,.pure-u-1-3,.pure-u-1-4,.pure-u-1-5,.pure-u-1-6,.pure-u-1-8,.pure-u-10-24,.pure-u-11-12,.pure-u-11-24,.pure-u-12-24,.pure-u-13-24,.pure-u-14-24,.pure-u-15-24,.pure-u-16-24,.pure-u-17-24,.pure-u-18-24,.pure-u-19-24,.pure-u-2-24,.pure-u-2-3,.pure-u-2-5,.pure-u-20-24,.pure-u-21-24,.pure-u-22-24,.pure-u-23-24,.pure-u-24-24,.pure-u-3-24,.pure-u-3-4,.pure-u-3-5,.pure-u-3-8,.pure-u-4-24,.pure-u-4-5,.pure-u-5-12,.pure-u-5-24,.pure-u-5-5,.pure-u-5-6,.pure-u-5-8,.pure-u-6-24,.pure-u-7-12,.pure-u-7-24,.pure-u-7-8,.pure-u-8-24,.pure-u-9-24{letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto;display:inline-block;zoom:1}.pure-g [class*=pure-u]{font-family:sans-serif}.pure-u-1-24{width:4.1667%}.pure-u-1-12,.pure-u-2-24{width:8.3333%}.pure-u-1-8,.pure-u-3-24{width:12.5%}.pure-u-1-6,.pure-u-4-24{width:16.6667%}.pure-u-1-5{width:20%}.pure-u-5-24{width:20.8333%}.pure-u-1-4,.pure-u-6-24{width:25%}.pure-u-7-24{width:29.1667%}.pure-u-1-3,.pure-u-8-24{width:33.3333%}.pure-u-3-8,.pure-u-9-24{width:37.5%}.pure-u-2-5{width:40%}.pure-u-10-24,.pure-u-5-12{width:41.6667%}.pure-u-11-24{width:45.8333%}.pure-u-1-2,.pure-u-12-24{width:50%}.pure-u-13-24{width:54.1667%}.pure-u-14-24,.pure-u-7-12{width:58.3333%}.pure-u-3-5{width:60%}.pure-u-15-24,.pure-u-5-8{width:62.5%}.pure-u-16-24,.pure-u-2-3{width:66.6667%}.pure-u-17-24{width:70.8333%}.pure-u-18-24,.pure-u-3-4{width:75%}.pure-u-19-24{width:79.1667%}.pure-u-4-5{width:80%}.pure-u-20-24,.pure-u-5-6{width:83.3333%}.pure-u-21-24,.pure-u-7-8{width:87.5%}.pure-u-11-12,.pure-u-22-24{width:91.6667%}.pure-u-23-24{width:95.8333%}.pure-u-1,.pure-u-1-1,.pure-u-24-24,.pure-u-5-5{width:100%}.pure-button{display:inline-block;zoom:1;white-space:nowrap;vertical-align:middle;text-align:center;cursor:pointer;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pure-button::-moz-focus-inner{padding:0;border:0}.pure-button-group{letter-spacing:-.31em;text-rendering:optimizespeed}.opera-only :-o-prefocus,.pure-button-group{word-spacing:-.43em}.pure-button{font-family:inherit;font-size:100%;padding:.5em 1em;color:#444;color:rgba(0,0,0,.8);border:1px solid #999;border:transparent;background-color:#e6e6e6;text-decoration:none;border-radius:2px}.pure-button-hover,.pure-button:focus,.pure-button:hover{background-image:linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1))}.pure-button-active,.pure-button:active{box-shadow:0 0 0 1px rgba(0,0,0,.15) inset,0 0 6px rgba(0,0,0,.2) inset}.pure-button-disabled,.pure-button-disabled:active,.pure-button-disabled:focus,.pure-button-disabled:hover,.pure-button[disabled]{border:none;background-image:none;opacity:.4;cursor:not-allowed;box-shadow:none;pointer-events:none}.pure-button-hidden{display:none}.pure-button-primary,.pure-button-selected,a.pure-button-primary,a.pure-button-selected{background-color:#0078e7;color:#fff}.pure-button-group .pure-button{letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto;margin:0;border-radius:0;border-right:1px solid #111;border-right:1px solid rgba(0,0,0,.2)}.pure-button-group .pure-button:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}.pure-button-group .pure-button:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px;border-right:none}.pure-form input[type=color],.pure-form input[type=date],.pure-form input[type=datetime-local],.pure-form input[type=datetime],.pure-form input[type=email],.pure-form input[type=month],.pure-form input[type=number],.pure-form input[type=password],.pure-form input[type=search],.pure-form input[type=tel],.pure-form input[type=text],.pure-form input[type=time],.pure-form input[type=url],.pure-form input[type=week],.pure-form select,.pure-form textarea{padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px;vertical-align:middle;box-sizing:border-box}.pure-form input:not([type]){padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px}.pure-form input[type=color]{padding:.2em .5em}.pure-form input:not([type]):focus,.pure-form input[type=color]:focus,.pure-form input[type=date]:focus,.pure-form input[type=datetime-local]:focus,.pure-form input[type=datetime]:focus,.pure-form input[type=email]:focus,.pure-form input[type=month]:focus,.pure-form input[type=number]:focus,.pure-form input[type=password]:focus,.pure-form input[type=search]:focus,.pure-form input[type=tel]:focus,.pure-form input[type=text]:focus,.pure-form input[type=time]:focus,.pure-form input[type=url]:focus,.pure-form input[type=week]:focus,.pure-form select:focus,.pure-form textarea:focus{outline:0;border-color:#129fea}.pure-form input[type=checkbox]:focus,.pure-form input[type=file]:focus,.pure-form input[type=radio]:focus{outline:#129fea auto 1px}.pure-form .pure-checkbox,.pure-form .pure-radio{margin:.5em 0;display:block}.pure-form input:not([type])[disabled],.pure-form input[type=color][disabled],.pure-form input[type=date][disabled],.pure-form input[type=datetime-local][disabled],.pure-form input[type=datetime][disabled],.pure-form input[type=email][disabled],.pure-form input[type=month][disabled],.pure-form input[type=number][disabled],.pure-form input[type=password][disabled],.pure-form input[type=search][disabled],.pure-form input[type=tel][disabled],.pure-form input[type=text][disabled],.pure-form input[type=time][disabled],.pure-form input[type=url][disabled],.pure-form input[type=week][disabled],.pure-form select[disabled],.pure-form textarea[disabled]{cursor:not-allowed;background-color:#eaeded;color:#cad2d3}.pure-form input[readonly],.pure-form select[readonly],.pure-form textarea[readonly]{background-color:#eee;color:#777;border-color:#ccc}.pure-form input:focus:invalid,.pure-form select:focus:invalid,.pure-form textarea:focus:invalid{color:#b94a48;border-color:#e9322d}.pure-form input[type=checkbox]:focus:invalid:focus,.pure-form input[type=file]:focus:invalid:focus,.pure-form input[type=radio]:focus:invalid:focus{outline-color:#e9322d}.pure-form select{height:2.25em;border:1px solid #ccc;background-color:#fff}.pure-form select[multiple]{height:auto}.pure-form label{margin:.5em 0 .2em}.pure-form fieldset{margin:0;padding:.35em 0 .75em;border:0}.pure-form legend{display:block;width:100%;padding:.3em 0;margin-bottom:.3em;color:#333;border-bottom:1px solid #e5e5e5}.pure-form-stacked input:not([type]),.pure-form-stacked input[type=color],.pure-form-stacked input[type=date],.pure-form-stacked input[type=datetime-local],.pure-form-stacked input[type=datetime],.pure-form-stacked input[type=email],.pure-form-stacked input[type=file],.pure-form-stacked input[type=month],.pure-form-stacked input[type=number],.pure-form-stacked input[type=password],.pure-form-stacked input[type=search],.pure-form-stacked input[type=tel],.pure-form-stacked input[type=text],.pure-form-stacked input[type=time],.pure-form-stacked input[type=url],.pure-form-stacked input[type=week],.pure-form-stacked label,.pure-form-stacked select,.pure-form-stacked textarea{display:block;margin:.25em 0}.pure-form-aligned .pure-help-inline,.pure-form-aligned input,.pure-form-aligned select,.pure-form-aligned textarea,.pure-form-message-inline{display:inline-block;vertical-align:middle}.pure-form-aligned textarea{vertical-align:top}.pure-form-aligned .pure-control-group{margin-bottom:.5em}.pure-form-aligned .pure-control-group label{text-align:right;display:inline-block;vertical-align:middle;width:10em;margin:0 1em 0 0}.pure-form-aligned .pure-controls{margin:1.5em 0 0 11em}.pure-form .pure-input-rounded,.pure-form input.pure-input-rounded{border-radius:2em;padding:.5em 1em}.pure-form .pure-group fieldset{margin-bottom:10px}.pure-form .pure-group input,.pure-form .pure-group textarea{display:block;padding:10px;margin:0 0 -1px;border-radius:0;position:relative;top:-1px}.pure-form .pure-group input:focus,.pure-form .pure-group textarea:focus{z-index:3}.pure-form .pure-group input:first-child,.pure-form .pure-group textarea:first-child{top:1px;border-radius:4px 4px 0 0;margin:0}.pure-form .pure-group input:first-child:last-child,.pure-form .pure-group textarea:first-child:last-child{top:1px;border-radius:4px;margin:0}.pure-form .pure-group input:last-child,.pure-form .pure-group textarea:last-child{top:-2px;border-radius:0 0 4px 4px;margin:0}.pure-form .pure-group button{margin:.35em 0}.pure-form .pure-input-1{width:100%}.pure-form .pure-input-3-4{width:75%}.pure-form .pure-input-2-3{width:66%}.pure-form .pure-input-1-2{width:50%}.pure-form .pure-input-1-3{width:33%}.pure-form .pure-input-1-4{width:25%}.pure-form .pure-help-inline,.pure-form-message-inline{display:inline-block;padding-left:.3em;color:#666;vertical-align:middle;font-size:.875em}.pure-form-message{display:block;color:#666;font-size:.875em}@media only screen and (max-width :480px){.pure-form button[type=submit]{margin:.7em 0 0}.pure-form input:not([type]),.pure-form input[type=color],.pure-form input[type=date],.pure-form input[type=datetime-local],.pure-form input[type=datetime],.pure-form input[type=email],.pure-form input[type=month],.pure-form input[type=number],.pure-form input[type=password],.pure-form input[type=search],.pure-form input[type=tel],.pure-form input[type=text],.pure-form input[type=time],.pure-form input[type=url],.pure-form input[type=week],.pure-form label{margin-bottom:.3em;display:block}.pure-group input:not([type]),.pure-group input[type=color],.pure-group input[type=date],.pure-group input[type=datetime-local],.pure-group input[type=datetime],.pure-group input[type=email],.pure-group input[type=month],.pure-group input[type=number],.pure-group input[type=password],.pure-group input[type=search],.pure-group input[type=tel],.pure-group input[type=text],.pure-group input[type=time],.pure-group input[type=url],.pure-group input[type=week]{margin-bottom:0}.pure-form-aligned .pure-control-group label{margin-bottom:.3em;text-align:left;display:block;width:100%}.pure-form-aligned .pure-controls{margin:1.5em 0 0}.pure-form .pure-help-inline,.pure-form-message,.pure-form-message-inline{display:block;font-size:.75em;padding:.2em 0 .8em}}.pure-menu-fixed{position:fixed;left:0;top:0;z-index:3}.pure-menu-item,.pure-menu-list{position:relative}.pure-menu-list{list-style:none;margin:0;padding:0}.pure-menu-item{padding:0;margin:0;height:100%}.pure-menu-heading,.pure-menu-link{display:block;text-decoration:none;white-space:nowrap}.pure-menu-horizontal{width:100%;white-space:nowrap}.pure-menu-horizontal .pure-menu-list{display:inline-block}.pure-menu-horizontal .pure-menu-heading,.pure-menu-horizontal .pure-menu-item,.pure-menu-horizontal .pure-menu-separator{display:inline-block;zoom:1;vertical-align:middle}.pure-menu-item .pure-menu-item{display:block}.pure-menu-children{display:none;position:absolute;left:100%;top:0;margin:0;padding:0;z-index:3}.pure-menu-horizontal .pure-menu-children{left:0;top:auto;width:inherit}.pure-menu-active>.pure-menu-children,.pure-menu-allow-hover:hover>.pure-menu-children{display:block;position:absolute}.pure-menu-has-children>.pure-menu-link:after{padding-left:.5em;content:"\25B8";font-size:small}.pure-menu-horizontal .pure-menu-has-children>.pure-menu-link:after{content:"\25BE"}.pure-menu-scrollable{overflow-y:scroll;overflow-x:hidden}.pure-menu-scrollable .pure-menu-list{display:block}.pure-menu-horizontal.pure-menu-scrollable .pure-menu-list{display:inline-block}.pure-menu-horizontal.pure-menu-scrollable{white-space:nowrap;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;padding:.5em 0}.pure-menu-horizontal.pure-menu-scrollable::-webkit-scrollbar{display:none}.pure-menu-horizontal .pure-menu-children .pure-menu-separator,.pure-menu-separator{background-color:#ccc;height:1px;margin:.3em 0}.pure-menu-horizontal .pure-menu-separator{width:1px;height:1.3em;margin:0 .3em}.pure-menu-horizontal .pure-menu-children .pure-menu-separator{display:block;width:auto}.pure-menu-heading{text-transform:uppercase;color:#565d64}.pure-menu-link{color:#777}.pure-menu-children{background-color:#fff}.pure-menu-disabled,.pure-menu-heading,.pure-menu-link{padding:.5em 1em}.pure-menu-disabled{opacity:.5}.pure-menu-disabled .pure-menu-link:hover{background-color:transparent}.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover{background-color:#eee}.pure-menu-selected .pure-menu-link,.pure-menu-selected .pure-menu-link:visited{color:#000}.pure-table{empty-cells:show;border:1px solid #cbcbcb}.pure-table caption{color:#000;font:italic 85%/1 arial,sans-serif;padding:1em 0;text-align:center}.pure-table td,.pure-table th{border-left:1px solid #cbcbcb;border-width:0 0 0 1px;font-size:inherit;margin:0;overflow:visible;padding:.5em 1em}.pure-table td:first-child,.pure-table th:first-child{border-left-width:0}.pure-table thead{background-color:#e0e0e0;color:#000;text-align:left;vertical-align:bottom}.pure-table td{background-color:transparent}.pure-table-odd td,.pure-table-striped tr:nth-child(2n-1) td{background-color:#f2f2f2}.pure-table-bordered td{border-bottom:1px solid #cbcbcb}.pure-table-bordered tbody>tr:last-child>td{border-bottom-width:0}.pure-table-horizontal td,.pure-table-horizontal th{border-width:0 0 1px;border-bottom:1px solid #cbcbcb}.pure-table-horizontal tbody>tr:last-child>td{border-bottom-width:0}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}td.hljs-ln-numbers{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#ccc;border-right:1em solid transparent;vertical-align:top;margin-right:5px}td.hljs-ln-code{margin-left:10px}.loader,.loader:after{border-radius:50%;width:10em;height:10em}.loader{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:1.1em solid rgba(75,75,75,.2);border-right:1.1em solid rgba(75,75,75,.2);border-bottom:1.1em solid rgba(75,75,75,.2);border-left:1.1em solid #4b4b4b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body{background-color:#eee;font-family:Verdana,Geneva,sans-serif;font-size:16px}.pure-menu.pure-menu-horizontal{background-color:#111;position:fixed;top:0;z-index:100}.pure-menu-link{color:#fafafa}.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover{background-color:#333}.pure-menu-children{background-color:#555}.pure-menu-horizontal .pure-menu-children{min-width:100%}.pure-menu-item a span{display:inline-block;width:.5rem;height:.5rem;border:1px solid #eee;background:#eee;margin-right:.5rem;margin-bottom:.1rem}.pure-menu-item a.on span{background:#111}#configs::after{content:'';padding:0}div#content{margin:4em 2em}div#story-data{background-color:#fff;padding:1em;box-shadow:0 0 3px #888}p{margin:1em 2em}p#format{float:right}p#ifid{font-style:italic}div#overlay{background:#eee;padding:4em 2em;position:absolute;top:0;left:0;right:0;bottom:0;z-index:10}.hide{display:none}.smallify{height:0;max-height:0;overflow:hidden}ul#credits{list-style:none}input[type=file]{display:none}.void{display:none}#clear-filters{position:fixed;background-color:#85144b;top:2.5em;right:0;border-radius:0;box-shadow:-1px 1px 2px #888}@media only screen and (max-width:800px){body{font-size:14px}div#content{margin:3em 1em 1em 1em}div.passage-card{margin:1em 0}div.passage-source{margin:0}}div.passage-card{background-color:#fff;margin:1em;padding:1em;box-shadow:0 0 2px #888}p.passage-tags{border:1px solid #111;padding:.3em;margin:1em 1em}div.passage-references{border:1px solid #111;padding:1em;margin:1em}h3.passage-references-title{font-size:.9rem;margin:0;margin-bottom:.5em}div.passage-reference-wrapper{font-size:.8rem}a.jumpto{margin-right:1em}div.passage-source{border:1px solid #111;padding:1em;margin:1em;background-color:#f8f8f8;overflow:auto}div.passage-source pre{font-family:Consolas,monaco,monospace;white-space:pre-wrap;line-height:1.5em}.passage-card .edit{float:right;margin:0;padding:.5em;display:none;z-index:2;cursor:pointer;background:#ccc;border-radius:50%;transition:.3s all}.passage-card:hover .edit{display:inline-block}.passage-card:hover .edit:active,.passage-card:hover .edit:hover{display:inline-block;padding:1em;background:#eee;border:1px solid #ccc}span.tag-listing{cursor:pointer}span.tag-listing:hover{opacity:.8}#sidebar{position:fixed;background-color:#ccc;left:0;top:2em;bottom:0;width:15em;overflow-y:auto;overflow-x:hidden;box-shadow:0 0 2px #000;color:#111;transition:left .3s;-webkit-transition:left .3s;-moz-transition:left .3s;-ms-transition:left .3s;-o-transition:left .3s}#sidebar.closed{left:-16em}#sidebar ul{padding:0;margin:0}#sidebar li{list-style:none;display:block}#sidebar li:not(:last-child){border-bottom:1px solid #111}a.jumpto.sidebar-jump{color:inherit;text-decoration:none;display:block;height:100%;padding:.5em;overflow:hidden;text-overflow:ellipsis;transition:padding-left .3s;-webkit-transition:padding-left .3s;-moz-transition:padding-left .3s;-ms-transition:padding-left .3s;-o-transition:padding-left .3s}a.jumpto.sidebar-jump:hover{padding-left:1em}#sidebar-link{width:1.1em}#sidebar-link.invis{visibility:hidden}#main.collapse div.passage-source{max-height:20em}div#content.simple{background-color:#fff}div#content.simple div#story-data,div#content.simple div.passage-card,div#content.simple div.passage-references,div#content.simple p.passage-tags{padding:1em;box-shadow:none;background-color:#fff;border:0}div#content.simple div.passage-references{border-top:1px solid #111}div#content.simple div.passage-source{border:0;padding:1em;background-color:#eee;min-height:unset}div#content.simple pre.hljs{background-color:#eee}.btn-close{color:#aaa;font-size:20px;text-decoration:none;padding:10px;position:absolute;right:7px;top:0}.btn-close:hover{color:#919191}.modale:before{content:"";display:none;background:rgba(0,0,0,.6);position:fixed;top:0;left:0;right:0;bottom:0;z-index:200}.opened:before{display:block}.opened .modal-dialog{transform:translate(0,0);top:10%}.modal-dialog{background:#fefefe;border:#333 solid 0;border-radius:5px;margin:auto;padding:1em;text-align:center;position:fixed;left:20%;top:-100%;z-index:210;width:60%;box-shadow:0 5px 10px rgba(0,0,0,.3);transform:translate(0,-500%);transition:transform .3s ease-out}.modal-body{padding:20px;overflow:auto;max-height:15em;text-align:center}.modal-footer,.modal-header{padding:10px 20px}.modal-header{border-bottom:#eee solid 1px}.modal-header h2{font-size:20px}.modal-footer{border-top:1px solid #ccc}.confirm-btn{float:left}.cancel-btn{float:right}.left-align{text-align:left}.pure-form select{padding:0}div.passage-footer{text-align:center;border:1px solid #111;transition:.3s all;overflow:hidden}div.passage-footer.closed{border:0}button.comment-open{color:#000}div.passage-footer button.comment-open{min-width:100%;transition:.3s all;font-size:1rem}div.passage-footer.closed button.comment-open{min-width:10%;font-size:1.2rem}div.passage-footer button.comment-open::after{float:right;content:"\00d7"}div.passage-footer.closed button.comment-open::after{content:none}div.comment-wrapper{margin:1em;overflow:auto;max-height:20em;transition:.3s all}div.passage-footer.closed div.comment-wrapper{margin:0}div.empty-comment.add-comment{text-align:center;color:#888;cursor:pointer;margin:.1em}div.empty-comment.add-comment:active,div.empty-comment.add-comment:hover{color:#111}div.comment-wrapper div.comment-readout:last-child{margin-bottom:1em;border-bottom:1px solid #eee}div.comment-readout div{overflow:hidden;text-overflow:ellipsis;white-space:pre;padding:1em;display:inline-block;height:1em}div.comment-readout:hover div{text-decoration:underline}div.comment-readout:nth-child(odd){background:#eee}div.comment-readout div.number{max-width:1em;float:left}div.comment-readout div.title{max-width:7em;float:left;font-weight:700}div.comment-readout div.content{max-width:72%}.modal-body .comment-content-out{white-space:pre-wrap;text-align:left}input#comment-title,textarea#comment-content{width:100%;margin:0}textarea#comment-content{height:10em}div.lint-btn-wrapper{text-align:center}div.errors{text-align:left}p.error-p{padding-left:1em;text-indent:-2em}span.error-msg{padding-left:1em;text-indent:1em}html.night .hljs{color:#eee;background:#333}html.night .hljs-keyword,html.night .hljs-selector-tag,html.night .hljs-subst{color:#fff}html.night .hljs-section,html.night .hljs-selector-id,html.night .hljs-title{color:#f22}html.night .hljs-class .hljs-title,html.night .hljs-type{color:#2cc}html.night .hljs-attribute,html.night .hljs-name,html.night .hljs-tag{color:#4444f4}html.night td.hljs-ln-numbers{color:#555}html.night body{background:#333;color:#eee}html.night div#story-data,html.night div.passage-card{background-color:#454545;box-shadow:0 0 3px #000}html.night div.passage-source{background-color:#333}html.night .passage-card .edit{color:#111}html.night div.comment-readout:nth-child(odd){background:#333}html.night div.comment-wrapper div.comment-readout:last-child{border-bottom:1px solid #333}html.night .pure-menu.pure-menu-horizontal{border-bottom:1px solid #555}html.night .pure-menu-children{border:1px solid #555;border-top:0}html.night .modal-dialog{background:#333;border:1px solid #444}html.night .modal-dialog input,html.night .modal-dialog select,html.night .modal-dialog textarea{color:#111}html.night .pure-form-message-inline{color:#aaa}html.night .loader{border-top:1.1em solid #666;border-right:1.1em solid #666;border-bottom:1.1em solid #666;border-left:1.1em solid #eee}html.night div#overlay{background:#333}html.night div.empty-comment.add-comment:active,html.night div.empty-comment.add-comment:hover{color:#eee}html.night div#content.simple{background-color:#333}html.night div#content.simple div#story-data,html.night div#content.simple div.passage-card,html.night div#content.simple div.passage-references,html.night div#content.simple p.passage-tags{padding:1em;box-shadow:none;background-color:#454545;border:0}html.night div#content.simple div.passage-references{border-top:1px solid #ccc}html.night div#content.simple div.passage-source{border:0;padding:1em;background-color:#333;min-height:unset}html.night div#content.simple div#main{background:#454545}html.night div#content.simple pre.hljs{background-color:#333}html.night #clear-filters{box-shadow:-1px 1px 2px #222}html.night a.jumpto{color:#7fdbff}html.night a.jumpto.sidebar-jump{color:#fff}html.night #sidebar{color:#fff;background-color:#222}html.night #sidebar li{border-color:#ccc} </style> </head> <body data-version="1.6.3" data-byline="Poof Proofing Format, for Twine 2, by Chapel"> <div class="modale" aria-hidden="true" role="dialog" aria-labelledby="modal-title"> <div class="modal-dialog"> <div class="modal-header"> <h2 id="modal-title">Title</h2> <a href="javascript:void(0)" tabindex="-1" class="btn-close closemodale" aria-hidden="true">&times;</a> </div> <div id="modal-body" class="modal-body">Body</div> <div id="modal-footer" class="modal-footer">Footer</div> </div> </div> <div class="pure-menu pure-menu-horizontal" role="navigation"> <a href="javascript:void(0)" id="sidebar-link" class="pure-menu-heading pure-menu-link" title="Passage List">&#9776;</a> <ul class="pure-menu-list"> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="configs" class="pure-menu-link" title="Settings">&#9881;</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="night" href="javascript:void(0)" class="pure-menu-link"><span></span>Dark Mode</a></li> <li class="pure-menu-item"><a id="simple" href="javascript:void(0)" class="pure-menu-link"><span></span>Simplified View</a></li> <li class="pure-menu-item"><a id="line-no" href="javascript:void(0)" class="pure-menu-link on"><span></span>Line Numbers</a></li> <li class="pure-menu-item"><a id="collapse" href="javascript:void(0)" class="pure-menu-link on"><span></span>Code Text Height</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink1" class="pure-menu-link" title="View">View</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="passages" href="javascript:void(0)" class="pure-menu-link">Passages</a></li> <li class="pure-menu-item"><a id="javascript" href="javascript:void(0)" class="pure-menu-link">JavaScript</a></li> <li class="pure-menu-item"><a id="stylesheet" href="javascript:void(0)" class="pure-menu-link">Stylesheet</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink2" class="pure-menu-link" title="Tools">Tools</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="tools-filter" href="javascript:void(0)" class="pure-menu-link">Filter...</a></li> <li class="pure-menu-item"><a id="tools-sort" href="javascript:void(0)" class="pure-menu-link">Sort...</a></li> <li class="pure-menu-item"><a id="tools-find" href="javascript:void(0)" class="pure-menu-link">Find...</a></li> <li class="pure-menu-item"><a id="tools-starting" href="javascript:void(0)" class="pure-menu-link">Start</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink3" class="pure-menu-link" title="Export">Export</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="twee-export" href="javascript:void(0)" class="pure-menu-link">Twee</a></li> <li class="pure-menu-item"><a id="pdf-export" href="javascript:void(0)" class="pure-menu-link">PDF</a></li> <li class="pure-menu-item"><a id="archive-export" href="javascript:void(0)" class="pure-menu-link">Archive</a></li> <li class="pure-menu-item"><a id="json-export" href="javascript:void(0)" class="pure-menu-link">JSON</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink4" class="pure-menu-link" title="Comments">Comments</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="comments-export" href="javascript:void(0)" class="pure-menu-link">Export</a></li> <li class="pure-menu-item"><a id="comments-import" href="javascript:void(0)" class="pure-menu-link">Import...</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink5" class="pure-menu-link" title="About">About</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="website" target="_blank" href="https://twinelab.net/poof" class="pure-menu-link" rel="noopener">Website</a></li> <li class="pure-menu-item"><a id="bugs" target="_blank" href="https://github.com/ChapelR/poof/issues/new" class="pure-menu-link" rel="noopener">Report Bugs</a></li> <li class="pure-menu-item"><a id="about" href="javascript:void(0)" class="pure-menu-link">About</a></li> </ul> </li> </ul> </div> <div id='sidebar' class="closed" role="complementary"><ul></ul></div> <div id="content" role="main"><div id='overlay'><div class='loader'>Loading...</div></div></div> <!-- UUID://CFB4E6AB-1631-4384-B7DD-D3868FB9835A// --><tw-storydata name="A Warm Place to Stay" startnode="1" creator="Tweego" creator-version="2.1.1+81d1d71" ifid="CFB4E6AB-1631-4384-B7DD-D3868FB9835A" zoom="0.25" format="poof" format-version="1.6.3" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">:root {
  --light: rgba(0, 0, 0, 20%);
  --accent: #d93;
  --color: #111;
  --background: #eee;
}

body {
  font: 1.2rem/1.6 "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: var(--color, #111);
  background: var(--background, #eee);
  transition: opacity 1s, background-color 2s;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin-top: 0;
  margin-bottom: 1rem;
}

h1,
h2 {
  text-align: center;
}

tw-story {
  line-height: inherit;
  position: relative;
  margin: 0 auto;
  padding-bottom: 4rem;
  max-width: 35em;
}

tw-passage {}

a {
  color: var(--color, #111);
  text-decoration-color: var(--light, rgba(0, 0, 0, 20%));
}

a:hover,
a:focus,
a:active {
  color: var(--accent, #d93);
  text-decoration-color: var(--accent, #d93);
}

.list-unstyled {
  list-style: none;
  margin: 0;
  padding-left: 0;
}

.fadeout {
  width: 100%;
  height: 100%;
  pointer-events: none;
  position: absolute;
  bottom: 0%;
  background-image: linear-gradient(to bottom, transparent, var(--background, #eee));
  margin-bottom: 0;
}

.textchat {
  padding: 1rem;
  font-size: smaller;
  font-family: monospace;
  background: rgba(0, 0, 0, 0.05);
  border: 1px solid var(--light);
  border-radius: 0.25rem;
  margin-bottom: 1rem;
}

/* Story Styles (using passage tags) */
body[data-tags~="vore"] {
  --background: #fcc;
}

body[data-tags~="cold"] {
  --background: #eef;
}

body[data-tags~="warm"] {
  --background: #fee;
}

body[data-tags~="dark"] {
  --background: #020202;
  --light: rgba(255, 255, 255, 50%);
  --color: #ccc;
}

[data-tags~="no_heading"] #recent-command {
  display: none;
}

@media screen and (max-width:500px) {
  .passage {
    --logo-height: 3em;
  }

  .logo_main {
    text-align: center;
    align-items: center
  }

  a {
    line-height: 2;
    padding: 2rem 0;
  }
}

pre code {
  border-radius: 0.25rem;
  display: block;
  font-size: smaller;
  background: rgba(0, 0, 0, 0.02);
  padding: 0.5rem;
  white-space: pre-wrap;
}

.important {
  padding: 2rem;
  background: rgba(0, 0, 0, 0.01);
  border: 1px solid rgba(0, 0, 0, 0.25);
  border-radius: 0.5rem;
  margin-bottom: 1rem;
}

.important>* {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">
/** Story Constants */
story.version = "v0.3.0";

// Warm Place to Stay Message
console.log(`
========================================================

Hi there! Thanks for reading A Warm Place to Stay.

If you're snooping around in the dev console, it probably
means you're looking for some secret goodies or easter
eggs.

There's not really much hidden content to speak of yet,
but you can execute this command to enable debug commands.

storyFlags.assign({showDebug: true}); location.reload();

Those commands are mostly just for testing, but they'll
let you switch Zasha's gender, warp to any passage, and
spawn with 200 HP and all weapons.

Maybe not that last one, actually.

-AA

=========================================================
`)

/**
 * Snowbunny 0.2
 * A set of fairly specific tweaks, plugins, and helper functions for
 * Twine+Snowman-based games.
 */
window.bunny = window.bunny || {};

console.debug(`Initializing game ${bunny.storyVersion}`);

// Wraps the jQuery command to add event listeners on sm.passage.shown.
bunny.addPassageEventListener = (func) => $(window).on('sm.passage.shown', func);

/* DOM Manipulations */

// Move story-defined CSS into <head>, so that styles declared
// inside the passage body take higher priority.
$("tw-story > style").appendTo($("head"));

// Passage tags are applied to <body data-tags> for easy CSS styling.
bunny.addPassageEventListener(() => {
    $("body").attr("data-tags", passage.tags.join(" "));
    // Selector: body[data-tags~="mytag"]
});

/*
 * History Commands
 */

/**
 * Go back to the previous passage.
 * Returns true if the user is now on a different passage.
 */
bunny.undo = () => {
    let current_p = window.passage.id;
    window.history.back();
    return (current_p != window.passage.id);
}
/** Clear state, and return to start. */
bunny.restart = () => {
    // explicitly carry over the gender setting
    let g = story.state.g;
    story.state = {
        g
    };
    story.history = [];
    story.show(story.startPassage);
}
// save a Snowman checkpoint on every passage.
$(window).on('sm.passage.shown', (event, {
    passage
}) => {
    story.checkpoint(); // required for "undo" to restore previous state

});

// Add a fadein effect when loading passages.
// Can be disabled by adding the "no_fade" tag
$(window).on('sm.passage.shown', (event, {passage}) => {
    if (!passage.tags.includes("no_fade")) {
        $("tw-passage").css({
            opacity: 0
        }).animate({
            opacity: 1
        }, "slow")
    }
})
// When a new passage loads, scroll to the top and unfocus selection.
$(window).on('sm.passage.shown', (event, {
    passage
}) => {
    window.scrollTo({
        top: 0,
        left: 0,
        behavior: 'smooth'
    }); // scroll to top
    $(":focus").blur(); // deselect selected item
});
/** bunny.rerender
 * Rerenders the current passage, perserving focus.
 * Snowman doesn't support watched "live" variables, so this is useful
 * if you need a link to update a variable on the current page.
 */
bunny.rerender = () => {
    const focusIndex = controls.getFocusables()
        .index(document.activeElement);
    renderToSelector("tw-passage", passage.id);
    controls.getFocusables().eq(focusIndex).focus();
}

/*
 * DEBUG: Handle Snowman Errors without Crashing
 */
story.ignoreErrors = true;
$(window).on("sm.story.error", (event, error) => {
    if (story.ignoreErrors) {
        const message =
            `${error.message}
        ---
        Error occured while viewing "${window.passage ? passage.name : "undefined"}". Check debug console for for details.

        To report this bug, please message the developer with the following:
        1) What version is your browser?
        2) Steps to reproduce?
        3) A screenshot of the debug console
        `;
        window.alert(message);
        console.error(error);
    }
})
/*
 * DEBUG: Reset startpassage, even if Twine loaded from another passage.
 */
$(window).one("sm.passage.shown", (event, {
    passage
}) => {
    let index = story.passages.findIndex(e => e && e.tags.includes("start"));
    if (index != -1) {
        story.startPassage = index;
    }
})
/*
 * Keyboard Controls
 */
window.controls = window.controls || {}; {
    controls.getFocusables = () => $("a[href], button, input, select, [tabindex]").filter(":visible");

    controls.focusNext = () => {
        const $focusables = controls.getFocusables();
        let index = $focusables.index(document.activeElement);
        if (index != -1) {
            $focusables.eq(index + 1).focus();
        } else {
            if ($("tw-passage").find($focusables)[0]) {
                $("tw-passage").find($focusables).first().focus();
            } else {
                $focusables.first().focus();
            }
        }
    }
    controls.focusPrev = () => {
        const $focusables = controls.getFocusables();
        let index = $focusables.index(document.activeElement);
        if (index >= 0) {
            $focusables.eq(index - 1).focus();
        } else {
            controls.focusNext();
            controls.focusPrev();
        }
    }
    controls.selectFocused = () => {
        const $focusables = controls.getFocusables();
        if ($focusables.index(document.activeElement) != -1) {
            document.activeElement.click();
        } else {
            controls.focusNext();
        }
    }
    controls.goNext = () => {
        let p = passage.id;
        if (!$(":focus")[0]) {
            window.history.forward();
        }
        if (p == passage.id) {
            controls.selectFocused();
        }
    }
}
$(document).keydown(function (e) {
    if ($(e.target).is("input[type!='button'], [contenteditable]") &&
        !e.key.startsWith("Arrow")) {
        return;
    }
    switch (e.key.toLowerCase()) {
        case "enter":
        case "e":
        case " ":
            controls.selectFocused();
            e.preventDefault();
            break;
        case "h":
        case "a":
        case "arrowleft":
            bunny.undo();
            e.preventDefault();
            break;
        case "d":
        case "l":
        case "arrowright":
            controls.goNext();
            e.preventDefault();
            break;
        case "w":
        case "k":
        case "arrowup":
            controls.focusPrev();
            e.preventDefault();
            break;
        case "s":
        case "j":
        case "arrowdown":
            controls.focusNext();
            e.preventDefault();
            break;
    }
});

/**
 * A simple helper class, for storing arbitrary serialized objects and arrays in LocalStorage
 * Data is JSON encoded, and stored as base64 on the localStorage object.
 * Utilizes caching to minimize the number of encoding and decoding operations.
 * Full decode/encode is only performed when initializing, and when setting.
 */
window.BunnyStorage = class {
    constructor(id, defaultData = {}) {
        this.storageKey = id;
        // if no data exists, set the default
        if (this.get() == undefined) {
            this.set(defaultData);
        }
    }
    get() {
        if (!this._cached) {
            const raw = localStorage.getItem(this.storageKey);
            if (raw) {
                this._cached = JSON.parse(atob(raw));
            } else {
                this._cached = undefined;
            }
            return this._cached;
        }
        return this._cached;
    }
    set(data) {
        const json_encoded = JSON.stringify(data);
        this._cached = JSON.parse(json_encoded);
        const b64_encoded = btoa(json_encoded);
        localStorage.setItem(this.storageKey, b64_encoded);
    }
    add(...items) {
        if (Array.isArray(this.get())) {
            this.set([...this.get(), ...items])
        } else {
            throw Error("BunnyStorage.prototype.add can only be used if the stored object is an Array ");
        }
    }
    assign(obj) {
        if (!Array.isArray(this.get())) {
            this.set({
                ...this.get(),
                ...obj
            })
        }
    }
    clear() {
        localStorage.removeItem(this.storageKey);
        this._cached = undefined;
    }
}

window.storyFlags = new BunnyStorage("WP_flags", {});

console.debug("Initialized storyFlags")

// Sync history with storyflags
$(window).one("sm.story.started", () => {
    if (!Array.isArray(storyFlags.get().seenPassages)) {
        storyFlags.assign({
            seenPassages: []
        });
    }
    $(window).on("sm.passage.shown", (event, {passage}) => {
        let seen = storyFlags.get().seenPassages || [];
        if (!seen.includes(passage.id)) {
            storyFlags.assign({
                seenPassages: [...seen, passage.id]
            })
            if (passage.tags.includes("checkpoint")) {
                console.debug(`Visited checkpoint "${passage.name}" for the first time.`)
            }
        }
    });
});
// If Twine "test", enable the debug menu
if ($("tw-storydata").attr("options").includes("debug")) {
  storyFlags.assign({showDebug: true})
}

/*
 * Page Header
 * Render the passage with the "header" tag.
 * This should be more customizable, probably.
 */
bunny.$headerEl = $("<header></header>").attr("id", "header");
$(window).one('sm.story.started', function (event, {story}) {
    const headerPassage = story.passages.find(p => p && p.tags.includes("header")).id;
    renderToSelector(bunny.$headerEl, headerPassage);
    bunny.$headerEl.insertBefore(story.$passageEl);
});

/**
 * Previous Command
 * Use the text of the previously clicked link as the title for
 * the next passage. Inspired by MSPA.
 * Example: [[Foo|Bar]] goes to page "Foo"
 */
$("tw-passage").on("click", "a", ({
    currentTarget
}) => {
    const $this = $(currentTarget);
    // Data attributes:
    // Add data-nocommand to use the linked passage's title
    // Use data-command="..." to set custom titles
    const data = $this.data();
    if (data["command"] !== "" && data["nocommand"] !== "") {
        story.state.previousCommand = data["command"] || $this.html();
    }
    console.debug(`Clicked on "${story.state.previousCommand}"`)
});

$(window).on('sm.passage.shown', (e, {
    passage
}) => {
    const passageTitle = story.state.previousCommand || passage.name;
    $("#recent-command").html(passageTitle)
    story.state.previousCommand = "";
})</script><tw-tag name="check" color="orange"></tw-tag><tw-tag name="cold" color="blue"></tw-tag><tw-tag name="flush" color="red"></tw-tag><tw-tag name="sidebar" color="green"></tw-tag><tw-tag name="vore" color="red"></tw-tag><tw-tag name="warm" color="red"></tw-tag><tw-tag name="checkpoint" color="yellow"></tw-tag><tw-tag name="header" color="green"></tw-tag><tw-tag name="start" color="green"></tw-tag><tw-tag name="todo" color="orange"></tw-tag><tw-passagedata pid="1" name="Title Screen" tags="start" position="500,100" size="100,100">&lt;div.logo&gt;
&lt;h1 class=&quot;logotitle&quot;&gt;A Warm&amp;nbsp;Place to&amp;nbsp;Stay&lt;/h1&gt;
&lt;p.logosubtitle&gt;Polar Bear Vore Adventure by Double-A&lt;/p&gt;

&lt;p style=&quot;margin: 2rem 0;&quot;&gt;&gt; [[A Warm Place to Stay.]]&lt;/p&gt;

&lt;/div&gt;

&lt;style&gt;

#recent-command { display: none }
.logo {
  text-align: center;
  margin: 5rem 0;
}
.logotitle {
  font-family: &#39;Times New Roman&#39;, serif;
  font-variant: small-caps;
  font-weight: bold;
  font-size: 4rem;
  line-height: 1;
}
.logosubtitle {
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-weight: lighter;
}
&lt;/style&gt;

&lt;br&gt;

&lt;% let seen = storyFlags.get().seenPassages;
let checkpoints = story.passages
    .filter(p =&gt; p &amp;&amp; p.tags.includes(&quot;checkpoint&quot;))
	&lt;!-- .sort((p1, p2) =&gt; seen.indexOf(p1.id) -  seen.indexOf(p2.id)); --&gt;
let seenCount = checkpoints.filter(p =&gt; seen.includes(p.id)).length;
let unseenCount = checkpoints.filter(p =&gt; !seen.includes(p.id)).length;
	%&gt;

&lt;% if (seenCount &gt; 0) { %&gt;
&lt;div.important&gt;
&lt;h3&gt;Checkpoints&lt;/h3&gt;
&lt;ul style=&quot;list-style-type: &#39;&gt; &#39;;&quot;&gt;
&lt;% checkpoints.filter(p =&gt; seen.includes(p.id))
	.forEach(({ name, id }) =&gt; { %&gt;
&lt;li&gt;&lt;a0 data-passage=&quot;&lt;%=name%&gt;&quot;&gt;&lt;%= name %&gt;&lt;/a&gt;&lt;/li&gt;
&lt;% }); %&gt;
&lt;% for (let i = unseenCount; i &gt; 0; i--) { %&gt;
&lt;li&gt;?????&lt;/li&gt;
&lt;% } %&gt;
&lt;/ul&gt;

\&gt; &lt;a0 onclick=&quot;window.confirm(&#39;This will permanently reset checkpoints. Are you sure?&#39;) &amp;&amp; storyFlags.assign({seenPassages: []}); bunny.rerender()&quot;&gt;Reset checkpoints.&lt;/a&gt;

&lt;/div&gt;
&lt;% } else { %&gt;

&lt;div.important&gt;

#### ⚠️ CONTENT WARNING ⚠️

Vore. Furries. Unfinished content.

&lt;/div&gt;

&lt;% } %&gt;</tw-passagedata><tw-passagedata pid="2" name="Keyboard controls" tags="" position="700,100" size="100,100">This game can be played with either mouse or keyboard controls.

#### Basic Navigation

`W (↑) ` *Select previous link.*

`S (↓)` *Select next link.*

`E (⏎)` *Use selected link.*

#### Time Travel

`A (←)` *Undo last command.*

`D (→)` *Redo last command.*

\&gt; &lt;a0 onclick=&quot;bunny.undo()&quot;&gt;Go back.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="3" name="Warp zone" tags="" position="1100,100" size="100,100">You&#39;ve entered a time warp!

This is a list of every passage, in the order they were added to the game.

To the right are passage tags, metadata which I use for things like checkpoints and background colors.

&lt;table class=&quot;table&quot;&gt;
&lt;thead&gt;
  &lt;tr&gt;
    &lt;th&gt;id&lt;/th&gt;
    &lt;th&gt;name&lt;/th&gt;
    &lt;th&gt;tags&lt;/th&gt;
	&lt;th&gt;seen?&lt;/th&gt;
  &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
  &lt;%
  let seen = storyFlags.get().seenPassages;
  story.passages.map(({ id, name, tags }) =&gt; { %&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;%-id%&gt;&lt;/td&gt;
	&lt;td&gt;&lt;a0 data-passage=&quot;&lt;%=name%&gt;&quot;&gt;&lt;%= name %&gt;&lt;/a&gt;&lt;/td&gt;
    &lt;td&gt;&lt;% tags.map(t =&gt; { %&gt;&lt;span class=&quot;tag-badge&quot;
  color=&quot;&lt;%-$(`tw-tag[name=${t}]`).attr(&#39;color&#39;)%&gt;&quot;&gt;&lt;%-t%&gt;&lt;/span&gt;
  &lt;% }) %&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%-seen.includes(id) ? &quot;✔️&quot; : &quot;&quot;%&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;% }); %&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;/table&gt;

&lt;style&gt;

.table {
}

.tag-badge {
  display: inline-block;
  background-color: #555;
  border-radius: 0.25rem;
  padding: 0 0.25rem;
  font-size: small;
  color: white;
}
.tag-badge[color=yellow] {
	background-color: #fc1;
	color: #111;
}
.tag-badge[color=red] {
	background-color: #d34;
}
.tag-badge[color=blue] {
	background-color: #1ab;
}
.tag-badge[color=green] {
	background-color: #2a4;
}

.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 1rem;
  background-color: transparent;
  border: 1px solid #dee2e6;
  padding: 0.5rem;
  border-radius: 0.5rem;
}

.table th,
.table td {
  padding: 0.25rem;
  vertical-align: top;
  border-bottom: 1px solid #dee2e6;
}

.table thead th {
  vertical-align: bottom;
  border-bottom: 2px solid #dee2e6;
  text-align: inherit;
}
&lt;/style&gt;</tw-passagedata><tw-passagedata pid="4" name="Header" tags="header" position="200,100" size="100,100">&lt;% if (storyFlags.get().showDebug) { %&gt;
&lt;div class=&quot;debug-menu&quot;&gt;
&lt;style&gt;
.debug-menu {
  position: fixed;
  top: 0;
  left: 0;
  font-size: 0.75em;
  margin: 1rem;
  background: #fff;
  padding: 1rem;
  border: 1px solid var(--light);
}
&lt;/style&gt;
&lt;p&gt;DEBUG COMMANDS&lt;/p&gt;
&lt;ul style=&quot;list-style-type: &#39;&gt; &#39;;&quot;&gt;
  &lt;li&gt;
    &lt;a0
	  onclick=&quot;story.state.g = !story.state.g; bunny.rerender()&quot;&gt;
	  Toggle gender
	&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;[[Warp zone]]&lt;/li&gt;
  &lt;li&gt;
    &lt;a0
	  onclick=&quot;window.confirm(&#39;This will fully reset all persistent game data. It will also disable debug mode.&#39;)
	  &amp;&amp; (storyFlags.clear(), location.reload());&quot;&gt;
	  Reset Savegame
	  &lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;% } %&gt;

&lt;div.topbar&gt;
  &lt;div.header-nav&gt;
	&lt;div.header-nav-group&gt;
	  &lt;div&gt;&lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart&lt;/a&gt;
	  &lt;/div&gt;
	  &lt;div&gt;&lt;a0 onclick=&quot;bunny.undo()&quot;&gt;Undo&lt;/a&gt;
	  &lt;/div&gt;
	&lt;/div&gt;
	&lt;div.header-nav-group&gt;
	  &lt;div&gt;[[Keyboard controls]]&lt;/div&gt;
	  &lt;span&gt;&lt;%= story.version %&gt;&lt;/span&gt;
	&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;recent-command&quot;&gt;&lt;/h2&gt;

&lt;style&gt;
  .topbar {
    font-size: 0.75em;
    border-bottom: 1px solid var(--light);
    padding-bottom: 1rem;
    margin-bottom: 1rem;
  }
  .header-nav {
    display: flex;
	justify-content: space-between;
  }

  .header-nav-group &gt; * {
    display: inline-block;
    margin-bottom: 0;
  }

  .header-nav-group &gt; * + * {
    margin-left: 0.5rem;
  }

  .header-nav-group &gt; * + *::before {
    content: &quot;|&quot;;
    margin-right: 0.5rem;
  }
&lt;/style&gt;</tw-passagedata><tw-passagedata pid="5" name="Adventure Log" tags="" position="900,100" size="100,100">A list of all the passages the user has seen, in the order they were discovered.

This code might be useful for some kind of sidebar?

&lt;% let seen = storyFlags.get().seenPassages;
let checkpoints = story.passages
	.filter(p =&gt; p &amp;&amp; seen.includes(p.id))
	.sort((p1, p2) =&gt; seen.indexOf(p1.id) -  seen.indexOf(p2.id)); %&gt;

&lt;% if (checkpoints.length &gt; 0) { %&gt;
&lt;ul style=&quot;list-style-type: &#39;&gt; &#39;;&quot;&gt;
&lt;% checkpoints.map(({ name }) =&gt; { %&gt;
&lt;li&gt;&lt;a0 data-passage=&quot;&lt;%=name%&gt;&quot;&gt;&lt;%= name %&gt;&lt;/a&gt;&lt;/li&gt;
&lt;% }); %&gt;
&lt;/ul&gt;

\&gt; &lt;a0 onclick=&quot;window.confirm(&#39;This will permanently reset checkpoints. Are you sure?&#39;) &amp;&amp; storyFlags.assign({seenPassages: []}); bunny.rerender()&quot;&gt;Reset checkpoints.&lt;/a&gt;

&lt;% } %&gt;</tw-passagedata><tw-passagedata pid="6" name="A Warm Place to Stay." tags="cold" position="500,225" size="100,100">&lt;style&gt;
body { transition: opacity 2s, background-color 0s; }
&lt;/style&gt;

Your name is Juniper Greenall. You are a rabbit.

You&#39;re in the driver&#39;s seat of a small car on the side of the road. An empty, snowy expanse surrounds you in every direction. Flecks of powdery white quickly accumulate on your windshield, as if threatening to swallow you whole. Despite your windshield wipers&#39; best efforts, the snow is gradually engulfing your view.

According to your stereo, it&#39;s 7:&lt;%= (new Date().getMinutes() &lt; 10 ? &quot;0&quot;:&quot;&quot;) + new Date().getMinutes()%&gt; PM.

\&gt; [[Take inventory.]]</tw-passagedata><tw-passagedata pid="7" name="Take inventory." tags="cold" position="500,350" size="100,100">An hour ago, you were driving down a narrow highway, on your way across the state of Northaven. The falling snow started out light, but got heavier and heaver. You struck a patch of black ice, swerved off the road, and got a flat tire in the process. Now you&#39;re stuck, sitting inside a tiny sedan in a ditch on the side of the road in the middle of nowhere, with little hope of rescue.

In your handbag, you have a cell phone, a credit card, a rewards card for a drive-thru coffee chain, and a wallet containing seven (7) dollars.

What will you do?

&lt;%= story.render(&quot;Car Commands&quot;) %&gt;

&lt;div-&gt;[[Car Commands]]&lt;/div&gt;</tw-passagedata><tw-passagedata pid="8" name="Car Commands" tags="" position="500,475" size="100,100">&lt;%
const carPassages = [&quot;Try calling for help.&quot;, &quot;Check for spare tire.&quot;, &quot;Turn on hazards.&quot;];
const seenEvery = carPassages.every(p =&gt; visited(p)); %&gt;

&lt;%= seenEvery ? &quot;Well, you&#39;re officially out of ideas.&quot; : &quot;&quot; %&gt;

&lt;% carPassages.map(p =&gt; {
  if (!visited(p)) { %&gt;

\&gt; &lt;a0 data-passage=&quot;&lt;%=p%&gt;&quot;&gt;&lt;%=p%&gt;&lt;/a&gt;

&lt;% }
}); %&gt;

&lt;% if (seenEvery) { %&gt;

\&gt; [[Await slow and chilly death.]]

&lt;% } %&gt;

&lt;div-&gt;[[Try calling for help.]][[Check for spare tire.]][[Turn on hazards.]]&lt;/div&gt;</tw-passagedata><tw-passagedata pid="9" name="Try calling for help." tags="cold" position="375,600" size="100,100">Yep, already tried &lt;%= visited(&quot;Check for spare tire.&quot;) ? &quot;that too.&quot; : &quot;that.&quot; %&gt;

You pull out your little cell phone, if only confirm that it still has no reception. You wave it around in the air for a moment, trying to get a signal. No dice.

Either the snowstorm is messing with the cell towers, or the cellular infrastructure of rural Northaven simply leaves a lot to be desired.

&lt;%= story.render(&quot;Car Commands&quot;) %&gt;</tw-passagedata><tw-passagedata pid="10" name="Check for spare tire." tags="cold" position="500,600" size="100,100">Good thinking. Unfortunately, you&#39;ve actually been driving on the spare for the last year or so. Come to think of it, that might be why it gave out so easily.

Well, hindsight&#39;s 20/20, and all.

&lt;%= story.render(&quot;Car Commands&quot;) %&gt;</tw-passagedata><tw-passagedata pid="11" name="Turn on hazards." tags="cold" position="625,600" size="100,100">You do that. If you’re lucky, someone might notice and help you out. Of course that would require someone to actually be driving on this road, which, in your experience so far, does not happen very often. You haven’t seen another car in over 20 minutes.

Well, you&#39;re officially out of ideas.

\&gt; [[Await slow and chilly death.]]</tw-passagedata><tw-passagedata pid="12" name="Await slow and chilly death." tags="cold" position="500,725" size="100,100">Your fuzzy ears droop behind your head in sorrow, and you resign to your inevitable, icy fate. The cruel reality of your situation sinks in. You can feel the clutches of frostbite already taking hold of...

Okay, you&#39;re being kind of dramatic. You&#39;re not gonna die; you&#39;ve got fur to keep you warm, not to mention the car&#39;s heater. In the worst case, you&#39;ll just have to wait the storm out. Still, it&#39;s not how you expected to spend tonight.

If you&#39;d known you were going to get stuck in a snowstorm, you might have at least worn some pants today.

\&gt; [[Wait, I&#39;m not wearing pants?]]</tw-passagedata><tw-passagedata pid="13" name="Wait, I&#39;m not wearing pants?" tags="cold" position="500,850" size="100,100">No, of course you&#39;re not. What a silly thing for you to wonder.

You, Juniper Greenall, are a rabbit living in a society of anthropomorphic mammals. Like most people, you are furry enough &quot;down there&quot; that you don&#39;t consider pants to be a necessary garment, except on especially formal occasions. As long as you&#39;re wearing either a top or a bottom, (in your case, a jacket and a plain undershirt) you&#39;re fully clothed. Porky Pig-style.

It&#39;s gonna be a long night. There will be plenty of time to think about the societal implications of this when you&#39;re-

*VrooOOOOoom.*

\&gt; [[What was that?]]</tw-passagedata><tw-passagedata pid="14" name="What was that?" tags="cold checkpoint" position="500,1150" size="100,100">Outside, you hear an engine roar and come to a stop. Your windshield is almost too caked in snow to make it out, but you can just barely see a huge pickup truck as it pulls off the road and parks in front of you.

From the truck, a huge, broad-shouldered figure emerges, and begins to trudge through the snow toward your car. Great. You&#39;re either about to be rescued, or violently abducted.

You hear a knock to your left. You sweat a bit, and turn your head extremely slowly to see...

A polar bear in a puffy winter coat. They&#39;re standing outside your car and politely tapping on the driver&#39;s side window with an enormous white paw.

&lt;div.commands.important&gt;

\&gt; &lt;a0 data-passage=&quot;Just ignore.&quot; onclick=&quot;story.state.g = true;&quot;&gt;Just ignore him.&lt;/a&gt; *(Male Pred)*

\&gt; &lt;a0 data-passage=&quot;Just ignore.&quot; onclick=&quot;story.state.g = false;&quot;&gt;Just ignore her.&lt;/a&gt; *(Female Pred)*

&lt;/div&gt;

&lt;div-&gt;[[Just ignore.]]&lt;/div&gt;</tw-passagedata><tw-passagedata pid="15" name="Just ignore." tags="cold" position="500,1275" size="100,100">Faced with the sudden appearance of a potential predator, your natural instincts kick in. You go perfectly still, ignoring the polar bear completely.

This probably won&#39;t help. Not only has &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; already seen you, but &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s probably not a predator either. Bears—and most carnivores in general—are not ravenous murderers who devour any stranger they come across. Eating people is, in fact, quite frowned upon. Unsolicited predation is extremely uncommon, although the news headlines tend to blow it out of proportion.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; stares somewhat awkwardly at you for a moment, taps on the glass, and calls out, &quot;Hello? Does rabbit need help?&quot;

&lt;div.commands&gt;

\&gt; [[Keep ignoring &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;.|Keep ignoring.]]

\&gt; [[Roll the window down.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="16" name="Keep ignoring." tags="cold" position="625,1300" size="100,100">You continue paying no attention to the polar bear. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; scratches &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; head awkwardly.

Okay, this is stupid, and also kind of speciesist? This bear is your only hope of rescue, and &lt;%=s.g?&quot;he&#39;s&quot;:&quot;she&#39;s&quot;%&gt; probably a well-adjusted, perfectly ordinary person, content to eat a civilized diet of fish and dairy. Despite what your &quot;old-fashioned&quot; parents would think, bears are not all rabbit-gulping vore machines. Try to be a little more open minded.

The polar bear taps on your window again. &quot;Er, is rabbit okay? Should I go?&quot;

You&#39;re gonna be here all night if you don&#39;t talk to &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;.

\&gt; [[Roll the window down.]]</tw-passagedata><tw-passagedata pid="17" name="Roll the window down." tags="cold" position="500,1425" size="100,100">Drafty, snowy air blows in. The polar bear crouches down to peer at you through the open window. You finally get a better look at &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;.

Most notably, &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s huge. &lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; bear-sized face almost fully eclipses the window of your decidedly rabbit-sized car.
&lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; &quot;robust&quot; figure is only widened by the thick blue winter coat &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s wearing. And as we established earlier, no pants. You get the feeling that the people in this world have very different standards of modesty. And by &quot;get the feeling,&quot; you mean you&#39;ve known this all along.

You&#39;d probably be more intimidated by this huge hunk of &lt;%=s.g?&quot;muscle&quot;:&quot;fat&quot;%&gt;  and fur, but there&#39;s something soft and non-threatening about &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; chestnut colored eyes. You feel somewhat calmed by &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; presence.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; clears &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat. &quot;I saw blinker,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says in a thick northern accent, &quot;You require assistance?&quot;

&lt;div.commands.important&gt;

\&gt; [[Yes, I do need help actually...]] *(Route 1a)*

\&gt; [[Jump down &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat.|Jump down their throat.]] *(Route 1b)*

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="18" name="Yes, I do need help actually..." tags="cold" position="500,1550" size="100,100">Yes, you say, you&#39;ve got a flat tire, and you&#39;re stuck here.

The bear pauses thoughtfully. &quot;You have spare?&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; asks. You shake your head no. &quot;Hmm,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says with a paw on &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; chin, &quot;Snow too heavy. Can&#39;t move car right now.&quot;

Your ears droop, crestfallen.

&quot;However, I am on way to hotel,&quot; Zasha continues, &quot;Warm place for night, few miles. You wish to ride there with me?&quot;

Your eyes go wide. A ride to a hotel? That&#39;s actually extremely convenient! But, should you go with &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;? Growing up as a rabbit, you were taught never to accept rides from strangers,  especially strangers who are theoretically large enough to swallow you whole without a thought.

Then again, the alternative is spending all night in a chilly car, so you probably better accept.

\&gt; [[Hitch a ride.]]</tw-passagedata><tw-passagedata pid="19" name="Hitch a ride." tags="cold" position="500,1675" size="100,100">Yes, you say, you could use a lift.

&quot;Good,&quot; the bear says, &quot;I am glad to assist with such a thing. Come when you are ready.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; walks back to &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; car, and opens the passenger door for you.

You grab up your belongings, including your phone, keys, and the little shoulder bag where you usually carry them. You climb out and lock your car, hopefully to return to it tomorrow.

The frigid snow nips at your paw-pads and makes you wince. You&#39;re clearly not used to this kind of weather. You high-tail it into the passenger seat of the polar bear&#39;s enormous four-seat pickup truck, and slam the door behind you, shivering. The polar bear climbs in the other side, notices your discomfort, and cranks the heat up to full blast.

Th-thanks, you stammer.

&quot;It is no trouble, Rabbit,&quot; says the polar bear, &quot;Sorry about mess in here. We will be at hotel soon.&quot; You nod, and &lt;%=s.g?&#39;he&#39;:&#39;she&#39;%&gt; pulls back onto the highway, and starts driving.

&lt;div.commands&gt;

\&gt; [[Look out the window.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="20" name="Look out the window." tags="cold" position="500,1800" size="100,100">The two of you sit in awkward silence for a little bit, as the polar bear carefully drives the two of you down the narrow highway covered in snowy sludge. Occasionally a dense patch of fir trees passes by. You twiddle your paws. The seatbelts in this vehicle are way too large for your little body.

&quot;Rabbit is not a talkative one, yes?&quot; the bear observes.

Oh, s-sorry! you say. You&#39;ve just had a long day.

&quot;I did not mean this to insult,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says, &quot;My kind is solitary as well.&quot;

In truth, you were distracted, thinking about how powerless you&#39;d be to stop such a hulking carnivore from grabbing and devouring you. Every time &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; speaks, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; black lips expose four pearly white fangs, and a big pink tongue. It&#39;s scary, but mostly it makes you feel... strangely enticed.

&quot;To think lot and say little is a virtue,&quot; the polar bear continues, &quot;However, I believe it is polite that I should know your name?&quot;

&lt;div.commands&gt;

\&gt; [[Of course! My name is...]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="21" name="Of course! My name is..." tags="cold" position="500,1925" size="100,100">&quot;Juniper. Hm. This is a sweet sounding name. It reminds me of winter meals in my home,&quot; says the polar bear. &quot;My name is Zasha, protector of creatures large and small.&quot;

You nod, then return to awkwardly twiddling your paws. Zasha also says nothing.  You&#39;ve never hitch-hiked before, so you&#39;re not very good at the small-talk. You&#39;re also very intimidated by the gigantic polar bear who has offered you help.

...Some weather, huh? you say.

&quot;Yes,&quot; Zasha says, &quot;the snowing is not usually so strong this time of year. It is terrible that you were stranded.&quot;

&lt;div.commands&gt;

\&gt; [[Do you live around here?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="22" name="Do you live around here?" tags="cold checkpoint" position="500,2050" size="100,100">&quot;Not especially,&quot; says Zasha. &quot;Zasha considers &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;self as nomad. Often moving from place to place. Tonight staying in hotel on way east, for next job.&quot;

You nod, glancing around the truck&#39;s interior, until your eyes fix on a metal toolbox on the floor by your feet. You hope it&#39;s not too personal a question, but what does &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; do for a living?

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; hesitates and says, &quot;Er, Zasha is a... travelling repair&lt;%=s.g?&quot;man&quot;:&quot;woman&quot;%&gt;!&quot;

&lt;div.commands.important&gt;

\&gt; [[Nod agreeably.]] *(Route 1)*

\&gt; [[Press for more information.]] *(Route 3)*

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="23" name="Nod agreeably." tags="cold" position="500,2175" size="100,100">Yup, nothing suspicious there.

&quot;And you?&quot; Zasha asks, &quot;If you do not mind, where is Juniper headed?&quot;

Oh, you know, just passing through. It&#39;s not important. Probably some kind of business meeting or something.

Zasha nods, eager to change the subject. You ride together in silence for a minute or so. &lt;%= story.render(&quot;Arrive at the hotel.&quot;)%&gt;

&lt;div-&gt;[[Arrive at the hotel.]]&lt;/div&gt;</tw-passagedata><tw-passagedata pid="24" name="Arrive at the hotel." tags="cold" position="500,2300" size="100,100">Scenery whizzes past. Eventually Zasha turns off the road, and into the parking lot of a roadside hotel, just as promised. It&#39;s a meager two-story lodge, probably converted from an old house or something. It&#39;s meager, but in a quaint, charming way.

\&gt; [[Get out of the truck.]]</tw-passagedata><tw-passagedata pid="25" name="Get out of the truck." tags="cold" position="500,2300" size="100,100">You shudder as you step outside into the chilly air. The entrance is only a short walk away, but in this cold, it feels like a million miles.

Zasha notices your discomfort, and frowns. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; holds open &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; puffy coat to reveal the fur of &lt;%=s.g?&quot;his bare&quot;:&quot;her naked&quot;%&gt; belly and chest, as if inviting you to huddle against it for warmth. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt;&#39;s... not wearing anything underneath. You feel your cheeks redden, either from embarassment, or from the sheer cold nipping at them.

&quot;Rabbit,&quot; Zasha says, &quot;you will wish to stay warm in this weather, yes?&quot;

&lt;div.commands.important&gt;

\&gt; [[Cozy up inside Zasha&#39;s coat.]]

\&gt; [[Tough it out.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="26" name="Cozy up inside Zasha&#39;s coat." tags="warm" position="500,2550" size="100,100">&lt;% console.debug(`Set s.snuggled_up from ${s.snuggled_up} to true.`);
s.snuggled_up = true %&gt;

You blush, and reluctantly step into the inviting warmth of Zasha&#39;s fur. It&#39;s unbelievably soft. You cozy up against it, and &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; considerately pulls &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; jacket around you, almost as if to squeeze you tighter against &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;. Zasha begins guiding the two of you through the parking lot.

The polar bear&#39;s pudgy gut jiggles a little with each step. Normally, you&#39;d feel nervous about being so close to a bear—not to mention, a bear&#39;s stomach—but it&#39;s so bitterly cold out, you can only feel grateful for this warm gesture. &lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; fur is softer than you could have imagined.

\&gt; [[Th-thank you...|Thanks for the warmth.]]</tw-passagedata><tw-passagedata pid="27" name="Thanks for the warmth." tags="warm" position="500,2675" size="100,100">Thank you, you tell Zasha, poking your head out to see where you&#39;re going.

&quot;There is no need for such gratitudes, Rabbit,&quot; Zasha says, still looking ahead, &quot;it is duty of a bear to help all creatures.&quot;

You remind Zasha that your name is Juniper, not Rabbit. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; repeats it to commit it to memory. The two of you finally make it to the door.

The automatic doors have seen better days, but they slowly and creakily slide open, bringing in a little draft into the lobby. Zasha opens &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; jacket to release you into the warm air of the lobby. You reluctantly step away, and dust a few white hairs from your jacket.

\&gt; [[Enter the hotel.]]</tw-passagedata><tw-passagedata pid="28" name="Tough it out." tags="cold" position="625,2550" size="100,100">You politely refuse the gesture, and walk quickly and purposefully to the door, wincing as icy pain attacks the pads of your feet. Zasha trails behind at a plodding pace, dragging with &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; a large, boxy suitcase. By the time you make it to the hotel&#39;s entrance, your teeth are already chattering.

The automatic sliding doors look really old. You walk up to them, but they do not detect your presence. You impatiently wave a hand around, but can&#39;t get the sensor to trip. When it finally does sense you, the door opens a few inches, then slows to a creaking halt. Wow, you&#39;re 0–2 for mechanical failures today, huh.

Zasha sees the door failing to open, and sees you shuddering and rubbing your shoulders for warmth. A &lt;%=s.g?&quot;paternal&quot;:&quot;maternal&quot;%&gt; instinct seems to take hold. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; walks right up to the sliding doors, examines them for a moment, and with loud grunt, forces one of them aside with &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; bare paws. It resists for a moment, but ultimately gives way.

&quot;There we go,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says, &quot;silly machine no match for Zasha.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; gestures for you to enter.

\&gt; [[Enter the hotel.]]</tw-passagedata><tw-passagedata pid="29" name="Enter the hotel." tags="" position="500,2800" size="100,100">The hotel lobby is small and quaint, containing a short desk with a bell, and another table covered in little pamphlets advertising nearby curiosities. A bored-looking fox in a concierge&#39;s uniform is sitting at the desk. Across from the desk is an elevator which is currently out of order. To the left is a hallway which presumably leads to the hotel&#39;s rooms.

You take a quick breather while Zasha checks into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; reservation. You&#39;re glad you have your credit card with you. You&#39;ll book a room after &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;.

You see the concierge give Zasha a couple of room keys. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; turns around, and places a friendly paw on your shoulder.

&quot;&lt;%= s.snuggled_up ? &quot;Juniper&quot; : &quot;Rabbit&quot;%&gt;, do you wish to sleep with me in my hotel room?&quot;

\&gt; [[W-what?]]</tw-passagedata><tw-passagedata pid="30" name="W-what?" tags="warm" position="500,2925" size="100,100">Your face flushes, and your ears stick straight up with surprise. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; wants to sleep with you??

You stammer to say that s-sorry, you don&#39;t think of &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; that way! &lt;%= s.snuggled_up ? `Even considering how warm ${s.g?&quot;his&quot;:&quot;her&quot;} fur was...`:`Though you&#39;re very thankful that ${s.g?&quot;he&quot;:&quot;she&quot;} rescued you!`%&gt;

Zasha&#39;s eyes go wide as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; realizes &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mistake. &quot;Oh! I did not intend to suggest such a... prurient thing! I simply offer for you to sleep in my hotel room at no cost to you.&quot;

\&gt; [[Oh! Of course, ha-ha.]]</tw-passagedata><tw-passagedata pid="31" name="Oh! Of course, ha-ha." tags="" position="500,3050" size="100,100">You laugh awkwardly. Right, that&#39;s what you thought &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; meant too. Obviously.

&quot;Would you like to share room with me,&quot; asks Zasha, clearly&amp;nbsp;somewhat flustered.

You&#39;re not overly tempted to accept &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; offer. You&#39;ve got nothing against Zasha, but you&#39;re still hesitant about spending the night with a 700 pound polar bear who could eat you in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; sleep? Not to mention, you already feel guilty for accepting so much help.

&lt;%= s.snuggled_up ? `${s.g?&quot;His&quot;:&quot;Her&quot;} fur *was* extremely warm and cuddly,` : `${s.g?&quot;He&quot;:&quot;She&quot;} seems harmless enough,`%&gt; but you&#39;d feel much better if you just got your own room.

&lt;div.commands&gt;

\&gt; [[Politely refuse.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="32" name="Politely refuse." tags="" position="500,3200" size="100,100">You tell Zasha that you really appreciate all the help &lt;%=s.g?&#39;he&#39;:&#39;she&#39;%&gt;&#39;s provided, but that you can handle it from here. You&#39;ll just book yourself a room, and get your car towed tomorrow.

&lt;%=s.g?&#39;He&#39;:&#39;She&#39;%&gt; seems kind of crestfallen, but nods in agreement.

But, you say, um, is there any way you can repay &lt;%=s.g?&#39;him&#39;:&#39;her&#39;%&gt;? You don&#39;t have much cash, but maybe you could Venmo &lt;%=s.g?&#39;him&#39;:&#39;her&#39;%&gt; as thanks for the ride? If you weren&#39;t in the middle of a snowstorm, you&#39;d offer to buy &lt;%=s.g?&#39;him&#39;:&#39;her&#39;%&gt; dinner somewhere... J-just dinner! Not like a date or anything!

&lt;%=s.g?&#39;He&#39;:&#39;She&#39;%&gt; shakes &lt;%=s.g?&#39;his&#39;:&#39;her&#39;%&gt; head firmly. &quot;No such repayment is necessary. I only do my part to protect all creatures. Farewell, &lt;%= s.snuggled_up ? &quot;Rabbit- erm, Juniper.&quot; : &quot;Rabbit&quot;%&gt;.&quot;

You graciously wave adieu to Zasha, then turn to the concierge to get your own room situation sorted.

\&gt; [[Talk to the concierge.]]</tw-passagedata><tw-passagedata pid="33" name="Talk to the concierge." tags="" position="500,3350" size="100,100">You stride confidently toward the concierge&#39;s desk. &lt;%=!s.g?&quot;He&quot;:&quot;She&quot;%&gt;&#39;s a red &lt;%=!s.g?&quot;fox&quot;:&quot;vixen&quot;%&gt;, and it seems as though the two of you have interrupted &lt;%=!s.g?&quot;his&quot;:&quot;her&quot;%&gt; extremely important perusal of a fashion magazine.

Hello, you say! You&#39;re looking to book a-

&quot;No vacancies,&quot; says the concierge immediately, pointing to a convenient sign above &lt;%=!s.g?&quot;his&quot;:&quot;her&quot;%&gt; head, which you did not notice until right now. Wow.

&lt;div.commands&gt;

\&gt; [[You&#39;re sure that there aren&#39;t any other rooms?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="34" name="You&#39;re sure that there aren&#39;t any other rooms?" tags="" position="500,3500" size="100,100">The concierge looks at you, then back at the sign as if pretending to double-check.

&quot;Yup,&quot; &lt;%=!s.g?&quot;he&quot;:&quot;she&quot;%&gt; shrugs, &quot;This is a pretty small hotel. You&#39;re not the only ones trying to wait out the storm.&quot; &lt;%=!s.g?&quot;He&quot;:&quot;She&quot;%&gt; &lt;%= s.snuggled_up ? `notices Zasha&#39;s fur on your jacket` : `sniffs the air slightly`%&gt;, and quietly asks with a bemused smirk, &quot;Why don&#39;t you just stay with your &lt;%=s.g?&quot;boyfriend&quot;:&quot;girlfriend&quot;%&gt; over there? Scared &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;ll get *hungry?*&quot;

Your ears stick straight up. You quickly stammer, *&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; is not my &lt;%=s.g?&quot;bo&quot;:&quot;gi&quot;%&gt;-*

Suddenly, you feel Zasha put &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; paw on your shoulder. &quot;No vacancies? This is not a problem,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says, brandishing a key-card from a coat pocket, &quot;The rabbit shall stay in my room, yes?&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; offers you the card.

I mean, it&#39;s not like you really have any other options?

\&gt; [[Freeze to death outside?]]

\&gt; [[Construct makeshift bed from travel pamphlets?]]</tw-passagedata><tw-passagedata pid="35" name="Freeze to death outside?" tags="" position="450,3700" size="100,100">You glance back toward the snowy wasteland outside the warm confines of the hotel lobby. Not your best idea.

\&gt; [[Accept the key-card.]]

&lt;% if (!visited(&quot;Construct makeshift bed from travel pamphlets?&quot;)) { %&gt;

\&gt; [[Construct makeshift bed from travel pamphlets?]]

&lt;% } %&gt;</tw-passagedata><tw-passagedata pid="36" name="Construct makeshift bed from travel pamphlets?" tags="" position="575,3700" size="100,100">Maybe if you stole enough of those little brochures, you could use them as a blanket?

You&#39;re just gonna have to share a room with this bear.

\&gt; [[Accept the key-card.]]

&lt;% if (!visited(&quot;Freeze to death outside?&quot;)) { %&gt;

\&gt; [[Freeze to death outside?]]

&lt;% } %&gt;</tw-passagedata><tw-passagedata pid="37" name="Accept the key-card." tags="" position="500,3875" size="100,100">&lt;%
console.debug(`Set s.got_the_key_card from ${s.got_the_key_card} to true.`)
s.got_the_key_card = true %&gt;

You accept Zasha&#39;s generous offer to share &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; hotel room. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; delicately hands you &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; spare key-card, which has been marked for Room 7.

&quot;I am glad to be of assistance, Rabbit. Come along when you are ready.&quot;

Zasha turns and heads for the hallway where the room is.

&lt;div.commands&gt;

\&gt; [[Follow Zasha to the room.]]

\&gt; [[Ask the concierge about towing your car.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="38" name="Ask the concierge about towing your car." tags="" position="500,4000" size="100,100">You have a brief but scintilliating conversation with the concierge about how your car is stuck in the snow four miles from here, a fact that no one really seems to care much about but you.

&quot;Sorry pal,&quot; &lt;%=s.g?&quot;she&quot;:&quot;he&quot;%&gt; says, &quot;You could try calling someone, but everything&#39;s probably gonna be shut down &#39;til tomorrow.&quot;

You ask, Because of the snow-

&quot;Because of the snowstorm,&quot; the &lt;%=s.g?&quot;vixen&quot;:&quot;fox&quot;%&gt; says.

...Cool, you say. You decide to deal with that problem in the morning.

\&gt; [[Follow Zasha to the room.]]</tw-passagedata><tw-passagedata pid="39" name="Follow Zasha to the room." tags="checkpoint" position="500,4125" size="100,100">&lt;%if (s.snuggled_up) { %&gt;
Zasha is waiting for you.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; extends a paw, which you take, and leads you down the hallway as if you were a tiny cub. It&#39;s a little humiliating. You&#39;re a grown adult after all, and more than capable of finding a room in this tiny hotel yourself. But at the same time, it&#39;s kind of cute? Zasha&#39;s stubby white tail is wagging.
&lt;% } else { %&gt;
&quot;Follow me, Rabbit.&quot;

You follow Zasha down the hall. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt;&#39;s hunching &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; neck slightly, and you realize the ceiling here might be slightly too short for a polar bear of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; size.
&lt;% } %&gt;

You stop in front of Room 7, right at the end of the hallway. &lt;% if (s.snuggled_up) {%&gt;Zasha lets go of your paw, bashfully.&lt;%}%&gt; Next to the door is a couple of vending machines which pique your interest. You rifle through your little purse, and find the seven (7) dollars from earlier.

The first one&#39;s a hot beverage maker. The other seems to dispense microwaveable frozen dinners. You wonder—as you&#39;ve been wondering since you met &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;—is Zasha hungry?

&lt;div.commands.important&gt;

\&gt; [[Offer to buy &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; a meal.|Offer to buy a meal.]] *(Route 2a)*

\&gt; [[Buy yourself some tea to warm up.]] *(Route 2b)*

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="40" name="Offer to buy a meal." tags="" position="425,4275" size="100,100">&lt;% s.got_dinner = true; %&gt;

&lt;%
console.debug(`Set s.snuggled_up from ${s.got_dinner} to true.`);
s.got_dinner = true %&gt;

You gesture to the frozen dinner machine, and offer to buy Zasha something to eat.

As if reacting to the mere mention of food, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; stomach lets out a low grumble. Geez, now you&#39;re afraid of what might have happened if you hadn&#39;t asked.

&quot;Yes,&quot; says Zasha, &quot;I suppose I have not eaten much today at all.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; studies the machine for a moment, then points to the meal &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; wants.

You feed your cash in, and the machine gracefully ejects a large plastic tub: Lemon Risotto with Green Beans and Salmon. As a vegetarian, you can&#39;t help but turn up your nose slightly.

You take the container, and follow the enormous bear into Room 7. Zasha is unabashedly wagging &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; stubby white tail, as if utterly overjoyed at your simple gesture of buying &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; dinner.

\&gt; [[Enter the hotel room.|Enter the hotel room. (Dinner Route)]]</tw-passagedata><tw-passagedata pid="41" name="Enter the hotel room. (Dinner Route)" tags="checkpoint" position="425,4425" size="100,100">&lt;div.important&gt;
This route is unfinished! It&#39;s playable, but is still written as an outline and may be missing content.
&lt;/div&gt;

You and Zasha have a pleasant meal. Zasha shares &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; green beans with you. The two of you learn more about each other, laughing, and enjoying the night. You admit to Zasha that at first, you were worried &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; would eat you! &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; laughs and dismisses the thought.

Zasha offers to share the tiny bed with you, and you feel comfortable enough around &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; to oblige. You cuddle cutely, and fall asleep.

The next day, you awake to find Zasha&#39;s arms wrapped tight around you. You wake up and blush, but &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; realizes the time. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; needs to get on the road to make it to &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; appointment with Jay, who er... needs his laundry machine repaired. (If the player has learned Zasha&#39;s real job, the implication here might be obvious?)

As &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; drives you back to your car, you&#39;re relieved to see that (a) the snow has melted, and (b) your car is still there. Zasha tows you to a repair shop. You say your farewells to Zasha, who gives you &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; number, and you offer to call. You pull back onto the road, and continue with your trip. Kiss, and wave goodbye.

### The end.

\&gt; [[Restart.|Title Screen]]</tw-passagedata><tw-passagedata pid="42" name="Buy yourself some tea to warm up." tags="" position="550,4275" size="100,100">&lt;% s.got_tea = true; %&gt;

You ask your newfound roommate if &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; wants any tea or coffee.

&quot;I am okay without,&quot; replies Zasha, unlocking the door to the hotel room, &quot;My body is plenty to keep me warm.&quot;

Alright, just for you then.

You stick a dollar into the drink machine, and it produces an insulated disposable cup. The machine slowly pours a hot cup of green tea. You pick it up. It feels wonderful to hold in your chilly paws, but it&#39;s too hot to drink right now.

Zasha opens the door for you.

\&gt; [[Enter the hotel room.|Enter the hotel room. (Tea Route)]]</tw-passagedata><tw-passagedata pid="43" name="Enter the hotel room. (Tea Route)" tags="checkpoint" position="550,4425" size="100,100">You walk inside after Zasha, taking a moment to hang up your jacket. Underneath is a simple gray undershirt which politely covers up your torso. Have we mentioned today, that you&#39;re not wearing pants?

The hotel room is nothing to write home about. There&#39;s a microwave, telephone, bed, singular.

You groan internally as you confirm your suspicions that there&#39;s only one bed in the room. It&#39;s a &lt;%=s.g?&quot;king&quot;:&quot;queen&quot;%&gt;-sized bed, but in this case, it will probably only fit one &lt;%=s.g?&quot;king&quot;:&quot;queen&quot;%&gt;. Obviously, Zasha didn&#39;t expect to share &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; room with a stranger. You glance around for a fold-out couch, but no luck.

Zasha notices you looking at the bed, and seemingly reads your thoughts. &quot;Hm, bed is too small to share, yes? I should have considered this... Zasha will sleep on floor then.&quot;

\&gt; [[No no, I&#39;ll do it!]]</tw-passagedata><tw-passagedata pid="44" name="No no, I&#39;ll do it!" tags="" position="550,4550" size="100,100">You tell Zasha &lt;%=-s.g?&quot;he&quot;:&quot;she&quot;%&gt; has done more than enough. You&#39;ll nab a blanket or two and sleep on the floor.

Zasha nods and gently sits down on the edge of the matress, which creaks as though it&#39;s barely supporting &lt;%-s.g?&quot;him&quot;:&quot;her&quot;%&gt;. &lt;%-s.g?&quot;He&quot;:&quot;She&quot;%&gt; pats the bedspread, offering for you sit next to &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;. You do so. &lt;% if (s.snuggled_up) { %&gt;&lt;%-s.g?&quot;He&quot;:&quot;She&quot;%&gt; opens &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; jacket, and you snuggle up inside.&lt;% } %&gt;

You sit &lt;%- s.snuggled_up ? &#39;cozily&#39; : &#39;awkwardly&#39; %&gt; beside Zasha for a little while, slowly taking little sips of the tea. Mm. It&#39;s now the perfect temperature. Zasha yawns, and you do your best not to stare at &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; giant teeth as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; does so.

&lt;div.commands&gt;

\&gt; [[Do you want a sip?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="45" name="Take off your shirt." tags="" position="750,4825" size="100,100"></tw-passagedata><tw-passagedata pid="46" name="Do you want a sip?" tags="" position="550,4675" size="100,100">You offer a sip of your tea to Zasha. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; hesitates at first, but eventually obliges, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; massive claws very gently taking the cup from you, and having a little sip.

&quot;Mm,&quot; Zasha remarks, &quot;Soothing.&quot;

Zasha gulps loudly. You can almost hear every muscle relaxing in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; gulps down the liquid.

Zasha delicately reaches to pass the cup back to you. You reach to take it, but &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; claws slip on the rim, and it falls, completely splattering you with a shirtful of warm tea.

&quot;Oh no!&quot; Zasha&#39;s chestnut eyes go wide. &lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; white face turns beet-red. &quot;Oh dear, Zasha is terribly sorry.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; immediately stands, walks to the bathroom, and returns with a towel which &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; immediately begins dabbing on your dripping shirt.

No, you say, allowing the apologetic polar bear to dab your face &lt;%=s.g?&quot;paternalistically&quot;:&quot;maternally&quot;%&gt;, it wasn&#39;t &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; fault. Your heart sinks. You don&#39;t have a spare with you.

Zasha places a claw on your belly. &quot;Does Rabbit need help removing?&quot;

\&gt; [[A-actually...|I don&#39;t have another shirt!]]</tw-passagedata><tw-passagedata pid="47" name="I don&#39;t have another shirt!" tags="" position="550,4800" size="100,100">You blush a deep red, but stammer to produce any words.

&quot;There is no need for to be ashamed, yes? We have all seen naked creature before.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; grabs the zipper of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; coat. &quot;Zasha would disrobe too, if it made you more comfortable?&quot;

&lt;div.commands&gt;

**\&gt; N-no, thank you!**

&lt;/div&gt;

Hesitantly, you remove your shirt. Zasha politely averts &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; eyes while you wrap yourself in a spare blanket.

You look back at Zasha, and the two of you make awkward, prolonged eye contact. You decide to take an early night, but the floor is extremely cold.

**\&gt; Ask Zasha for another blanket.**

Zasha is snoring loudly, and you try to wake &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;, but it does not work.

**\&gt; Climb into the bed.**

You figure you can just discretely slip into the warm, cozy bed alongside &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;, but in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; sleep, &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; grabs you and begins to snuggle you against &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; fur.

You&#39;re enjoying the guilty pleasure of having &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; arms wrapped around you, until you feel &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; belly rumbling hard. It&#39;s totally empty, which makes you a bit nervous. Suddenly, the sleeping Zasha opens &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth wide, grips you in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; claws, and begin stuffing you inside. Oh dear.

Your parents warned you about sleep eating—one of the many reasons never to ever date a predator—but you assumed it was made-up.

**\&gt; Cry for help!**

You yell out, trying to wake Zasha up, but &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; simply keeps sleep-swallowing you until you&#39;re deep inside &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; belly, where you begin to digest, and fall unconscious.

&quot;Mmmm...&quot;

### The End.

\&gt; [[Epilogue.|Ending: Digestion regret]]

\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="48" name="Jump down their throat." tags="warm" position="1600,1625" size="100,100">*CW: Oral Vore. Saliva. Fatal digestion.*

Something strange takes ahold of you, and at that moment, you cannot bear being outside this huge, sexy predator&#39;s maw for one second longer.

Through the car window, you grab hold of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; lips, pull &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; jaw open, and attempt to force your face against &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; hot, slobbery tongue, so you can wriggle down &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; esophagus and become part of that warm, pudgy belly.

\&gt; [[Continue.|Jump down their throat II.]]</tw-passagedata><tw-passagedata pid="49" name="Jump down their throat II." tags="cold" position="1600,1750" size="100,100">&quot;Hrk!&quot; The bear suddenly gags, and grabs you by the scruff of your neck to yank you out of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth, coughing. As you awkardly wipe the spittle from your fur, the polar bear looks at you bewildered. &quot;Kafkaf kaf! Ack! Wh-what?&quot;

Sorry!! you say immediately, you&#39;re not sure what came over you there, that was completely-

The polar bear interrupts, looking you straight in the eyes with furrowed brows and much seriousness in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; voice: &quot;Rabbit, you wish for Zasha to eat you?&quot;

\&gt; [[Oh, yes please!|Oh, yes please!]]

\&gt; [[N-no, of course not!]]</tw-passagedata><tw-passagedata pid="50" name="N-no, of course not!" tags="cold" position="1600,1875" size="100,100">You take a moment to think about it. *Do* you want to be eaten?

No, no! Of course you don&#39;t. Why would you? That would be insane, right? Who would ever *want* that to happen to them?

&quot;Actually,&quot; the bear interjects, &quot;Zasha is aware of many with sexual fetish for being-&quot;

Right, yeah, but you&#39;re not one of *those* weirdos. You swear.

Zasha wets &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth and replies, &quot;You are sure? Zasha would not be judgemental if Rabbit was... curious.&quot;

&lt;div.commands.important&gt;

\&gt; [[No, I&#39;m absolutely sure.]]

\&gt; [[P-please swallow me whole!|Oh, yes please!]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="51" name="No, I&#39;m absolutely sure." tags="cold" position="1600,2000" size="100,100">You shake your head vehemently no. You&#39;re not sure what came over you just now. But you don&#39;t want to be eaten.

&quot;Okay then,&quot; the bear nods, clears &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat. &quot;So, er, car is broken down? You require assistance?&quot;

\&gt; [[Yes, actually...|Yes, I do need help actually...]]</tw-passagedata><tw-passagedata pid="52" name="Oh, yes please!" tags="" position="1800,1725" size="100,100">Your ears stand straight up with excitement. Unlike most bunnies, you&#39;ve always been &quot;curious&quot; as to what being swallowed is like, but never really admitted it to yourself.

You say that you would love to be eaten, um, but you understand if &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s not interested, of course.

The polar bear—who you presume is Zasha—blushes furiously beneath &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; white fur. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; looks at you—and your body—with a renewed interest.

&quot;...Rabbit wishes for protection from cold?&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; asks.

Yes, you say. You want to be wrapped up in warmth. You want to feed &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; huge belly and fatten it up with yourself.

Zasha narrows &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; eyes. &quot;Rabbit is absolutely sure?&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; reiterates, as if trying to make sure &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; has not misunderstood or misinterpreted you.

\&gt; [[Yes, a thousand times yes!!]]</tw-passagedata><tw-passagedata pid="53" name="Yes, a thousand times yes!!" tags="warm" position="1800,1850" size="100,100">Yes, yes, you say. You&#39;re almost sweating through your shirt with anticipation. You wonder if Zasha can smell it.

Zasha considers. &quot;This rabbit is a strange one. However, Zasha is hungry, and thought of swallowing has brought about some... urges. Zasha will oblige with Rabbit&#39;s request.&quot;

Your name is Juniper, you say. It hardly seems right to ask someone to eat you without telling them your name.

&quot;Juniper. Hm. This is a pleasant name. Thank you Juniper, Zasha is grateful for this meal.&quot; &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; licks &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; lips, seemingly a little excited &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;self.

Zasha pokes &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; enormous head into your driver-side window, shuts &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; eyes, and opens &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth up wide. &lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; teeth, tongue, and throat are just inches from your face. You gaze into that pink, slimy entrance in disbelief. It&#39;s so... big. So warm. So inviting.

You spend a few seconds merely gazing in awe at your destination. Zasha briefly peeks one eye open, as if &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s wondering what&#39;s taking you so long.

What will you do?

\&gt; [[Climb inside &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth.|Climb inside Zasha&#39;s mouth.]]</tw-passagedata><tw-passagedata pid="54" name="Climb inside Zasha&#39;s mouth." tags="vore checkpoint" position="1800,1975" size="100,100">You eagerly stick one paw, then the other, into the bear&#39;s awaiting maw. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; guides them into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat, and swallows them effortlessly. A second gulp tugs at your arms, and pulls you face-first against &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; slobbery tongue, which quickly gets to work tasting your face, and coating your fur in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; saliva.

Experimentally, you try to pull one of your paws back out, but it&#39;s being gripped tightly by Zasha&#39;s esophagus. Looks like no turning back now.

Zasha&#39;s breath is warm and humid as it blasts your face. Surprisingly, it doesn&#39;t smell very bad inside &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth. In fact, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; dental hygiene is spotless. The sharp teeth framing &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; tongue are almost as white as &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; fur. You only have a moment to appreciate this before &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; suddenly lurches &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; head forward, forcing your head and ears to the back of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat.

You stare in amazement as your face approaches the dark warmth of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; gullet.

\&gt; [[Th-thank you...]]</tw-passagedata><tw-passagedata pid="55" name="Th-thank you..." tags="vore" position="1800,2100" size="100,100">You murmur thanks at Zasha, unsure if &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; can hear you.

The bear nods and swallows, squeezing your head and ears into the tight wet tube of &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; esophagus. Powerful arms wrap around your middle, and lift you into the air so &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; can take in your body more easily. Zasha licks and slobbers at your torso, not even bothering to remove your clothes.

Zasha&#39;s throat is like a tight blanket wrapping you from every side, covering your mouth and slathering you in what feels like gallons of drool.

You&#39;re officially food now, and it feels *amazing*.

&lt;div.commands&gt;

\&gt; [[Enter stomach.|Enter stomach. (Vore Route 1)]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="56" name="Enter stomach. (Vore Route 1)" tags="vore" position="1800,2225" size="100,100">It&#39;s so warm inside the bear&#39;s gullet. Not surprising, considering all &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; layers of fat. Your small body sails over Zasha&#39;s lips and effortlessly slides down into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; belly. It&#39;s hard to breathe inside &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; throat, but that changes soon enough.

With a *shlorp*, you emerge in the clenching confines of Zasha&#39;s stomach. Your fur is immediately coated in clear slimy enzymes. Moving around is difficult in such a small space, but you eventually manage to remove your shirt and jacket, which have been thoroughly soiled. You are now a completely nude rabbit, inside the dank tummy of a predator. It&#39;s everything you imagined.

Moments later, you feel the pressure of a huge paw feeling for your presence through the fat stomach walls.

&quot;Juniper is doing okay in there?&quot; Zasha asks, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; voice booming from every direction.

\&gt; [[Yes, wonderful!]]</tw-passagedata><tw-passagedata pid="57" name="Yes, wonderful!" tags="vore" position="1800,2350" size="100,100">You shout approvingly at the top of your little rabbit lungs, attempting to make your voice heard through the thick insulation surrounding you from all sides. As you close your mouth, you taste a little bit of Zasha&#39;s saliva on your lips.

Zazha opens &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; mouth to reply, but is interrupted by a deep, guttural belch. Your body must&#39;ve displaced a lot of air. As the burp escapes Zasha&#39;s lips, &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; walls get a little bit tighter around you. &quot;That is, *urp*, good to hear,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says, &quot;Juniper made for delicious meal.&quot; The bear affectionately rubs &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; belly and says, &quot;I am on way to hotel nearby. You will come along with Zasha for night? Return to car in morning?&quot;

**\&gt; Perfect...**

You rub the surrounding stomach walls approvingly.

Zasha pulls &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; head out of your car window with a satisfied smile. Your surroundings jiggle and bounce a little as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; stands up. Zasha carefully rolls the window back up, takes your little handbag, and locks the car door.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; clutches &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; gut to hold you steady, and trudges back through the snow to &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; truck. The engine roars to life. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; pats your outline, and says, &quot;Okay then, rabbit. You are ready to go?&quot;

&lt;div.commands&gt;

\&gt; [[Get comfy.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="58" name="Get comfy." tags="vore" position="1800,2475" size="100,100">&lt;div.important&gt;
This route is unfinished! It&#39;s playable, but is still written as an outline and may be missing content.
&lt;/div&gt;

You&#39;re curled up uncomfortably, and decide to reposition yourself slightly.

&quot;Oof...&quot; Zasha grunts and groans slightly as you move around inside &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;. S-sorry! you say, you&#39;re just trying to- Woah! Your paw slips and you accidentally kick hard into the stomach walls.

&quot;Mmmmmmmnghh!&quot; Zasha suddenly lets out an erotic moan. Awkward silence. &quot;Oh dear- I do not wish to cause rabbit discomfort, but these movements are making Zasha feel... pleasurable. Does Juniper wish to be regurgitated?&quot;

**\&gt; I don&#39;t mind, actually...**

Well, um...

Zasha begins to reach for a bottle of anti-digestion pills.

You tell Zasha that you don&#39;t mind. In fact, you admit, you&#39;re experiencing similar... pleasurable feelings. You like being &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; food.

&quot;Hmph?&quot; Zasha says. You think &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; might be blushing. &quot;Zasha is happy to hear this. Well then, let us embark before storm gets worse.&quot;

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; conspicuously puts the anti-digestion pills back, and starts driving.

**\&gt; A bumpy ride.**

Zasha&#39;s gut bounces and sloshes harmlessly around you as the truck moves.

There&#39;d probably be a description of the passing scenery here, if you weren&#39;t completely blind inside the dank, dark, sexy stomach of a polar bear.

You hear Zasha stop the car. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; enters, hefting &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; huge gut inside. The concierge gives &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; a weird look, but says nothing.

\&gt; [[Enter the hotel room. (Willing Oral Route)]]</tw-passagedata><tw-passagedata pid="59" name="Enter the hotel room. (Willing Oral Route)" tags="vore checkpoint" position="1800,2625" size="100,100">**\&gt; Can I come out now?**

Zasha, exhausted, replies &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;ll let you out tomorrow morning. What!? You&#39;ll be going through &quot;the natural way.&quot; More gentle on stomach, says Zasha. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; seems to be teasing you. &quot;Besides, hotel is much too cold for rabbit,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says smirking, &quot;Zasha must keep warm.&quot;

**\&gt; No! Spit me up now!**

You try to fight it, but you&#39;re in no position to bargain. Zasha happily dozes off to sleep. You spend the night in Zasha&#39;s belly. You&#39;re becoming too tired to fight back.

You doze off for a few hours, but awake to realize that Zasha is still sleeping, and starting to digest you.

\&gt; [[Wake &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; up.|Wake Zasha up.]]

\&gt; [[Digest quietly.|Await warm and gurgly death.]]</tw-passagedata><tw-passagedata pid="60" name="Wake Zasha up." tags="" position="1750,2775" size="100,100">You kick and yell, but it doesn&#39;t take. Your predator snores and turns onto &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; belly.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; only murmurs in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; sleep, &quot;Zasha... will let rabbit out... tomorrow.&quot;

\&gt; [[Await warm and gurgly death.]] *(Route 2a: Fatal digestion)*

\&gt; [[Thrash and struggle for your life!]] *(Route 2b: Non-fatal)*</tw-passagedata><tw-passagedata pid="61" name="Await warm and gurgly death." tags="vore" position="1800,2925" size="100,100">// TODO:

You resign to your fate of being accidentally digested.

\&gt; [[The next day...|Ending: Digestion regret]]

\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="62" name="Ending: Digestion regret" tags="" position="1775,3700" size="100,100">*CW: Post-Vore Scat.*

The next day, Zasha wakes up with a huge belly full of digested rabbit. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; is quite upset over this, having failed to protect an innocent creature, but is gradually corrupted by the carnal feelings of power which predation gives &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;. It&#39;s not the first time, and &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; stoically concludes there was nothing &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; could have done to stop it.

You and your belongings are discretely flushed in the hotel toilet as a slurry of bones and rabbit fur. Zasha starts downtown.

### The End.

\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="63" name="Thrash and struggle for your life!" tags="" position="1675,2925" size="100,100">*CW: Regurgitation.*

You expend all of your effort, and manage to wake Zasha from &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; slumber, who realizes that &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; fell asleep. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; immediately rushes to the bathroom, and horks you up into the tub. The authors don&#39;t have a vomit fetish, so they leave it up to the imagination.

You take a long shower, and you think about the choices that lead you to this brush with death. You towel off, and return to the room with a large towel covering your chest and waist. Zasha tries to apologize for nearly digesting you.

&lt;div.commands.important&gt;

\&gt; [[Actually, th-that was kind of hot.]] *(Lewd ending)*

\&gt; [[Just go to bed.]] *(Unlewd ending)*

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="64" name="Actually, th-that was kind of hot." tags="" position="475,850" size="100,100">You stop &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;, and say that being nearly digested made you so unbelievably horny. Zasha is bemused, but reciprocates.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; removes &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; jacket, and allows.</tw-passagedata><tw-passagedata pid="65" name="Just go to bed." tags="" position="600,850" size="100,100">You walk past Zasha, and  on the floor, still coping with the trauma of almost being digested.

The next day, Zasha wordlessly drives you back to your car. Your cell is working again, and the snow is gone. You try to talk, but can&#39;t think of anything to say.

\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="66" name="Ending: Somewhat awkward" tags="" position="725,850" size="100,100">\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata><tw-passagedata pid="67" name="Press for more information." tags="cold" position="1050,2175" size="100,100">*CW: Anal Vore. Masturbation. Rimming.*

You can clearly tell that Zasha is lying about &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; job. You tell &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt; so outright. What does &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; *really* do for a living?

Zasha seems taken aback, &quot;I... I apologize for this untruthfulness. Zasha works in an er... &#39;disreputable&#39; field, and did not want to make rabbit nervous.&quot;

Disreputable field? Oh god, does &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; work for the mob? Does Northaven *have* a mob? Are you being kidnapped??

&quot;No, no!&quot; the bear says, &quot;Nothing like that! Zasha travels around to star in... unusual freelance films.&quot;

What films, you ask? Maybe you&#39;ve seen some of them.

Zasha shifts uncomfortably. &quot;Films of... er... sexual swallowing,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says.

&lt;div.commands&gt;

\&gt; [[Oh. *Ooooooh.*|Oh. Ooooooh.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="68" name="Oh. Ooooooh." tags="" position="1050,2300" size="100,100">&lt;%
console.debug(`Set s.knows_zasha_does_vorno from ${s.knows_zasha_does_vorno} to true.`)
s.knows_zasha_does_vorno = true; %&gt;

Oh, you say, cheeks suddenly turning red. *Those* films.

Zasha is referring to internet videos of consensual prey being devoured. *Vornography*. It&#39;s legal, although slightly frowned upon. They&#39;re chiefly aimed at predators who don&#39;t otherwise have a healthy way of expressing their desires.

You&#39;re ashamed to think that you&#39;ve actually seen quite a lot of those films on sites like TummyTube, GrumbleX, and &lt;%=s.g?&quot;ButtBrothers&quot;:&quot;SwallowSisters&quot;%&gt;.com. You never thought you&#39;d be in the same *post-code* as one of the &lt;%=s.g?&quot;actors&quot;:&quot;actresses&quot;%&gt;, much less riding alone in a car with one.

&lt;div.commands&gt;

\&gt; [[S-so, you eat people for a living?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="69" name="S-so, you eat people for a living?" tags="cold" position="1150,2400" size="100,100">&quot;Yes,&quot; Zasha says, struggling to make eye-contact, &quot;but only with strict consent, of course!&quot;

A-and no digestion, right?

Zasha pauses for slightly too long to be reassuring. &quot;Er, usually, yes.&quot;

Your face flushes. *Usually*? &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt;&#39;s d-done it? This bear&#39;s belly, just a few feet from you, has dissolved prey into its fat. You never watched much in *that* category, but the thought fills you with equal parts fear and arousal.

&lt;div.commands.important&gt;

\&gt; [[...Can you eat me?]]

\&gt; [[C-cool! A-anyways...]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="70" name="C-cool! A-anyways..." tags="cold" position="975,2525" size="100,100">Now that you have this unpleasant knowledge haunting the back of your mind, you decide to do the normal thing, and change the subject as quickly as possible.

S-some weather, huh?

Zasha says, &quot;I assure you rabbit, Zasha eats no one without their permission. This would be terrible and immoral... You will not share this with hotel staff, yes?&quot;

You nod. You&#39;d rather forget all about Zasha&#39;s innate capacity to swallow and wholly digest people your size. The two of you ride together in silence for a minute or so. &lt;%= story.render(&quot;Arrive at the hotel.&quot;)%&gt;

&lt;div-&gt;[[Arrive at the hotel.]]&lt;/div&gt;</tw-passagedata><tw-passagedata pid="71" name="...Can you eat me?" tags="cold" position="1125,2525" size="100,100">Your libido gets the better of you. You stammer out a request which feels extremely weird to say out loud. You ask the bear if &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; can eat you.

Zasha seems taken aback. &quot;This does not... scare you? Usually Zasha&#39;s partners, er, prey, are quite nervous.&quot;

No, you say, you&#39;re actually quite curious. N-no digestion, of course!

&quot;Ah. Prey do tend to calm down when reassured they will not be digested... Zasha is not shooting until tomorrow evening, and rabbit does present a tempting offer... Does rabbit wish swallowing, or other options?&quot;

There are *other* options?

Zasha smiles uneasily. &quot;Yes, sometimes Zasha is involved in... *specialty* scenes. Taking prey into private parts, or um, anal hole...&quot;

\&gt; [[Anal? You can do that?]]</tw-passagedata><tw-passagedata pid="72" name="Anal? You can do that?" tags="cold" position="1125,2650" size="100,100">You&#39;re somewhat disbelieving of this. You knew some predators were capable of &quot;anal vore&quot;, but you learned in Biology that it was a very rare skill.

&quot;Yes,&quot; Zasha replies, &quot;Zasha is big bear, yes. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; can consume prey through this hole. Can even squeeze through intestines and into stomach to be, er, regurgitated.&quot;

You listen intently, equal parts disgusted, terrified, and amazed.

&quot;This requires much practice,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; says, seemingly rather proud.

&lt;div.commands&gt;

\&gt; [[Would you mind... um... showing me?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="73" name="Would you mind... um... showing me?" tags="cold" position="1125,2775" size="100,100">Zasha doesn&#39;t take &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; eyes off the road, but you can see a mischievous smirk growing on &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; face.

&quot;Yes,&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; replies &quot;Zasha can do this. Wait until hotel, okay? We are almost there.&quot;

You nod, now very excited. You hardly expected this night would end with you being devoured through a polar bear&#39;s asshole. It&#39;s almost like a scene in those erotic fanfictions which... *other* people... seem to be very into. So you&#39;ve heard, anyway.

Zasha keeps driving. Scenery whizzes past. Eventually &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; turns off the road, and into the parking lot of the roadside hotel &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt;&#39;s staying at tonight. You climb out of the truck, and groan as the icy snow burns your pawpads.

You&#39;re about to complain, when Zasha suddenly scoops you into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; arms like a baby.

&lt;div.commands&gt;

\&gt; [[Wh-what gives?]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="74" name="Wh-what gives?" tags="" position="1125,2900" size="100,100">Zasha snuggles you close to &lt;%=s.g?&quot;his chest&quot;:&quot;her bosom&quot;%&gt;, and smiles. &quot;Rabbit is Zasha&#39;s food now. Zasha does not like cold food. Must keep warm.&quot;

You blush, but accept &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; affectionate teasing as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; carries you into the building, setting you down in the lobby while &lt;%s.g?&quot;he&quot;:&quot;she&quot;%&gt; talks to the concierge to get a room key. As a rabbit, you&#39;re somewhat used to people treating you like a child, but Zasha is treating you like *&lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt;* child, a child &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; intends to consume anally. Freud would have a field day with this.

With keycards in hand, Zasha leads you down the hall, walking with &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; tail in the air, and &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; butt pointed directly at you. Your eyes fix on that gigantic furry ass. It sways slightly as &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; saunters ahead. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt;&#39;s definitely teasing you. You follow &lt;%=s.g?&quot;him&quot;:&quot;her&quot;%&gt;.

From the front desk, the concierge winks at you and gives a thumbs up. You smile back, nervously.

&lt;div.commands&gt;

\&gt; [[Enter the hotel room.|Enter the hotel room. (Anal Vore Route)]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="75" name="Enter the hotel room. (Anal Vore Route)" tags="checkpoint" position="1125,3025" size="100,100">&lt;div.important&gt;
This route is unfinished! It&#39;s playable, but is still written as an outline and may be missing content.
&lt;/div&gt;

It&#39;s demonstration time.

Zasha instructs you &quot;Remove clothes,&quot; and wait while &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; goes back to the car to get some supplies.

**\&gt; Get undressed.**

You remove your shirt and jacket. God, you just feel so *exposed* and vulnerable like this. You&#39;re nearly shaking with excitement.

Zasha returns with the metal toolbox from the car. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; shows you some anti-digestion pills, plus a huge bottle of strawberry flavored edible lube.

You say that you&#39;ve never done this before. Sh-should you have a safeword?

&quot;Safe word? Like what?&quot;

\&gt; &lt;a0 data-passage=&quot;The safe word is...&quot;
onclick=&quot;story.state.safeWord=&#39;Pineapple&#39;;&quot;&gt;Pineapple!&lt;/a&gt;

\&gt; &lt;a0 data-passage=&quot;The safe word is...&quot;
onclick=&quot;story.state.safeWord=&#39;Sassafrass&#39;;&quot;&gt;Sassafrass!&lt;/a&gt;

\&gt; &lt;a0 data-passage=&quot;The safe word is...&quot;
onclick=&quot;story.state.safeWord = &#39;Idiosyncratic&#39;; story.state.weirdSafeWord = true;&quot;&gt;Idiosyncratic!&lt;/a&gt;

&lt;div-&gt;
\&gt; [[The safe word is...]]
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="76" name="The safe word is..." tags="" position="1125,3150" size="100,100">&lt;% s.safeWord = s.safeWord || &quot;листва&quot;; %&gt;

&quot;&lt;%-s.safeWord%&gt;&lt;%-s.weirdSafeWord ? &#39;?&#39; : &#39;,&#39; %&gt;&quot; Zasha repeats, &quot;&lt;%-either(&quot;Okay&quot;, &quot;Alright&quot;, &quot;Yes&quot;)%&gt;. Say this, and Zasha will stop what &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; is doing and help Rabbit out.&quot;

You—naked—bashfully shy away from Zasha, but &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; gently dominates you, cupping your chin and teasing your crotch. All vornography moves.

W-wow, you two are really doing this.

&lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; then hands you the bottle of lube, gets up on the bed on all fours, and instructs you to spread &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; cheeks, and lube up &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; asshole.

&lt;div.commands&gt;

\&gt; [[Lube up &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; hole.|Lube up Zasha&#39;s hole.]]

\&gt; [[Use your tongue.]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="77" name="Lube up Zasha&#39;s hole." tags="" position="1225,3275" size="100,100">You squirt a load of &quot;Strawberry Lik-n-Stik Edible Lube&quot; onto your cupped paw, and delicately smear it all over Zasha&#39;s asshole.

&quot;Rabbit will need to get it deeper...&quot; &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; teases.

Experimentally, you push your paw against the pucker, and it effortlessly slides in, helping coat your destination with lube.

&quot;Good,&quot; Zasha purrs, gently clenching to pull your paw deeper. &quot;Now, the other.&quot;

You catch on to &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; game, and slip your other paw in as well, using your body to steady yourself as you gradually push them in up to your elbows, then halfway up your shoulder. You&#39;re soon hunched over the bed, with Zasha&#39;s ass cheeks eclipsing your vision.

Zasha&#39;s furry tail is sticking straight up. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; says, &quot;Well rabbit, this is it. Take deep breath now, yes?&quot;

\&gt; [[Press your face into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; asshole.|Press your face into Zasha&#39;s asshole.]]</tw-passagedata><tw-passagedata pid="78" name="Use your tongue." tags="" position="1100,3275" size="100,100">As you hold Zasha&#39;s cheeks apart and gaze into the hole betwixt, you can&#39;t help yourself. You lean in begin to swirl your tongue around &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; huge puckered asshole. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; immediately responds with a moan, &lt;%=s.g?&quot;his cock twitching slightly between his legs.&quot;:&quot;her asshole clenching and releasing.&quot;%&gt;. &quot;Rabbit could not help itself, yes? Mm, this is not bad...&quot; You keep going for a little while, inhaling deep lungfuls of bear musk.

Finally, Zasha says, &quot;Rabbit *will* need to use more lube to get inside of Zasha.&quot;

\&gt; [[Lube up &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; hole.|Lube up Zasha&#39;s hole.]]</tw-passagedata><tw-passagedata pid="79" name="Press your face into Zasha&#39;s asshole." tags="vore" position="1125,3450" size="100,100">&lt;% s.safeWord = s.safeWord || &quot;листва&quot;; %&gt;

You shlorp your nose into Zasha&#39;s thick ass. It&#39;s dripping with sweat as you fold your ears behind your head, and press forward.. The sensation of forcing your face into that tight ring, and having it stretch to accept you, is utterly surreal.

\&gt; [[Breathe deep.]]</tw-passagedata><tw-passagedata pid="80" name="Breathe deep." tags="" position="1225,975" size="100,100">The smell is intoxicating, a powerful musk, mixed with strawberries. You travel past rectum, and into &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; colon. Your ears lead the way as you keep travelling deeper. It&#39;s magical.

\&gt; [[Is this too deep?]]</tw-passagedata><tw-passagedata pid="81" name="Is this too deep?" tags="" position="100,1100" size="100,100">Zasha moans and urges you deeper. &lt;%=s.g?&quot;His&quot;:&quot;Her&quot;%&gt; paws delicately guide your bulge through &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; intestines.

It starts to become a little tight in here, and you find yourself struggling to breathe.

\&gt; [[&lt;%-s.safeWord%&gt;! &lt;%-s.safeWord%&gt;!!|Safeword! Safeword!!]]</tw-passagedata><tw-passagedata pid="82" name="Safeword! Safeword!!" tags="" position="225,1100" size="100,100">You&#39;re losing oxygen. You wiggle your tightly bound feet with displeasure, and call out for help. Your voice is muffled, but Zasha seems to only push you deeper! You can hear &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; heart pounding around you now.

\&gt; [[&lt;%-s.safeWord.slice(0, 4)%&gt;...|Safe...]]</tw-passagedata><tw-passagedata pid="83" name="Safe..." tags="" position="350,1100" size="100,100">You feel yourself become woozy. Zasha&#39;s upper intestine pulsates indifferently around you. You feel consciousness... beginning... to...

*GASP*. Your head pokes through a sphincter into Zasha&#39;s stomach, a dark dank cavern.

You feel your feet disappear beneath Zasha&#39;s tail. Zasha sits down, and delicately caresses your outline. &quot;I-is rabbit okay?&quot;

\&gt; [[Y-yeah. I&#39;m okay.]]</tw-passagedata><tw-passagedata pid="84" name="Y-yeah. I&#39;m okay." tags="" position="475,1100" size="100,100">You&#39;re fine, you say. Actually, it made you feel kind of... alive. You look down at your lower half, now also inside the stomach. *Very* alive.

Feeling both of your libidos at their peak from the undeniably sexual experience of carnivorous satisfaction, the two of you (optionally) masturbate.

\&gt; [[Yess!]]</tw-passagedata><tw-passagedata pid="85" name="Yess!" tags="" position="600,1100" size="100,100">Satisfied with the orgasm, the two of you fall asleep.

&lt;div.commands&gt;

\&gt; [[The next day...|Ending: Morning after]]

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="86" name="Ending: Morning after" tags="" position="1125,3600" size="100,100">You wake up in the morning, being squeezed out of the bear&#39;s asshole, and into a bathtub. Yuck.

You gratefully return to your car, unable to look Zasha in the eye after spending multiple hours in &lt;%=s.g?&quot;his&quot;:&quot;her&quot;%&gt; large intestine. &lt;%=s.g?&quot;He&quot;:&quot;She&quot;%&gt; seems a little bashful about almost killing you, but the two of you are on good terms. Zasha tows your car to a repair shop, and waves you off. As &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; leaves, &lt;%=s.g?&quot;he&quot;:&quot;she&quot;%&gt; writes down an email address, and winks, asking if you want to do it again some time. A shiver goes down your spine.

### The end.

\&gt; &lt;a0 onclick=&quot;bunny.restart()&quot;&gt;Restart.&lt;/a&gt;</tw-passagedata></tw-storydata> <script type="text/javascript"> !function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(T,e){"use strict";function m(e){return null!=e&&e===e.window}var t=[],S=T.document,o=Object.getPrototypeOf,s=t.slice,g=t.concat,c=t.push,r=t.indexOf,n={},i=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},u={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var o,r,i=(n=n||S).createElement("script");if(i.text=e,t)for(o in u)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,r);n.head.appendChild(i).parentNode.removeChild(i)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!b(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,o,r,i,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||b(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)o=e[t],"__proto__"!==t&&a!==o&&(l&&o&&(k.isPlainObject(o)||(r=Array.isArray(o)))?(n=a[t],i=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,a[t]=k.extend(l,i,o)):void 0!==o&&(a[t]=o));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e)||(t=o(e))&&("function"!=typeof(n=v.call(t,"constructor")&&t.constructor)||a.call(n)!==l))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,o=0;if(d(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,a=!n;r<i;r++)!t(e[r],r)!=a&&o.push(e[r]);return o},map:function(e,t,n){var o,r,i=0,a=[];if(d(e))for(o=e.length;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function f(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(65536+o):String.fromCharCode(o>>10|55296,1023&o|56320)}function r(){C()}var e,d,w,i,a,h,p,m,x,c,l,C,T,s,S,g,u,v,y,k="sizzle"+1*new Date,b=n.document,N=0,o=0,E=ce(),j=ce(),A=ce(),$=ce(),L=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],M=t.pop,R=t.push,H=t.push,I=t.slice,O=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+F+"*("+q+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",z=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(F+"+","g"),_=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),V=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),X=new RegExp(F+"|>"),J=new RegExp(z),Q=new RegExp("^"+q+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,oe=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=I.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){R.apply(e,I.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function se(e,t,n,o){var r,i,a,s,c,l,u,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!o&&((t?t.ownerDocument||t:b)!==T&&C(t),t=t||T,S)){if(11!==p&&(c=te.exec(e)))if(r=c[1]){if(9===p){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&y(t,a)&&a.id===r)return n.push(a),n}else{if(c[2])return H.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&d.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(r)),n}if(d.qsa&&!$[e+" "]&&(!g||!g.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(u=e,f=t,1===p&&X.test(e)){for((s=t.getAttribute("id"))?s=s.replace(re,ie):t.setAttribute("id",s=k),i=(l=h(e)).length;i--;)l[i]="#"+s+" "+be(l[i]);u=l.join(","),f=ne.test(e)&&ve(t.parentNode)||t}try{return H.apply(n,f.querySelectorAll(u)),n}catch(t){$(e,!0)}finally{s===k&&t.removeAttribute("id")}}}return m(e.replace(_,"$1"),t,n,o)}function ce(){var o=[];return function e(t,n){return o.push(t+" ")>w.cacheLength&&delete e[o.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ue(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),o=n.length;o--;)w.attrHandle[n[o]]=t}function pe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ge(a){return le(function(i){return i=+i,le(function(e,t){for(var n,o=a([],e.length,i),r=o.length;r--;)e[n=o[r]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=se.support={},a=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},C=se.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:b;return o!==T&&9===o.nodeType&&o.documentElement&&(s=(T=o).documentElement,S=!a(T),b!==T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),d.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ue(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=ee.test(T.getElementsByClassName),d.getById=ue(function(e){return s.appendChild(e).id=k,!T.getElementsByName||!T.getElementsByName(k).length}),d.getById?(w.filter.ID=function(e){var t=e.replace(oe,f);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(oe,f);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),w.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[r++];)1===n.nodeType&&o.push(n);return o},w.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},u=[],g=[],(d.qsa=ee.test(T.querySelectorAll))&&(ue(function(e){s.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+k+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(d.matchesSelector=ee.test(v=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ue(function(e){d.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),u.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),u=u.length&&new RegExp(u.join("|")),t=ee.test(s.compareDocumentPosition),y=t||ee.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},L=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument===b&&y(b,e)?-1:t===T||t.ownerDocument===b&&y(b,t)?1:c?O(c,e)-O(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!r||!i)return e===T?-1:t===T?1:r?-1:i?1:c?O(c,e)-O(c,t):0;if(r===i)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?pe(a[o],s[o]):a[o]===b?-1:s[o]===b?1:0}),T},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==T&&C(e),d.matchesSelector&&S&&!$[t+" "]&&(!u||!u.test(t))&&(!g||!g.test(t)))try{var n=v.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){$(t,!0)}return 0<se(t,T,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==T&&C(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==T&&C(e);var n=w.attrHandle[t.toLowerCase()],o=n&&D.call(w.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==o?o:d.attributes||!S?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],o=0,r=0;if(l=!d.detectDuplicates,c=!d.sortStable&&e.slice(0),e.sort(L),l){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return c=null,e},i=se.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i(t);return n},(w=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,f),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&J.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,o,r){return function(e){var t=se.attr(e,n);return null==t?"!="===o:!o||(t+="","="===o?t===r:"!="===o?t!==r:"^="===o?r&&0===t.indexOf(r):"*="===o?r&&-1<t.indexOf(r):"$="===o?r&&t.slice(-r.length)===r:"~="===o?-1<(" "+t.replace(W," ")+" ").indexOf(r):"|="===o&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,m,g){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var o,r,i,a,s,c,l=v!=y?"nextSibling":"previousSibling",u=e.parentNode,f=b&&e.nodeName.toLowerCase(),p=!n&&!b,d=!1;if(u){if(v){for(;l;){for(a=e;a=a[l];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;c=l="only"===h&&!c&&"nextSibling"}return!0}if(c=[y?u.firstChild:u.lastChild],y&&p){for(d=(s=(o=(r=(i=(a=u)[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===N&&o[1])&&o[2],a=s&&u.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||c.pop();)if(1===a.nodeType&&++d&&a===e){r[h]=[N,s,d];break}}else if(p&&(d=s=(o=(r=(i=(a=e)[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===N&&o[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||c.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((r=(i=a[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]=[N,d]),a!==e)););return(d-=g)===m||d%m==0&&0<=d/m}}},PSEUDO:function(e,i){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(i):1<a.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,o=a(e,i),r=o.length;r--;)e[n=O(e,o[r])]=!(t[n]=o[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var o=[],r=[],s=p(e.replace(_,"$1"));return s[k]?le(function(e,t,n,o){for(var r,i=s(e,null,o,[]),a=e.length;a--;)(r=i[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return o[0]=e,s(o,null,n,r),o[0]=null,!r.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(oe,f),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:le(function(n){return Q.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(oe,f).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var o=n<0?n+t:t<n?t:n;0<=--o;)e.push(o);return e}),gt:ge(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=he(e);function ye(){}function be(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(s,e,t){var c=e.dir,l=e.next,u=l||c,f=t&&"parentNode"===u,p=o++;return e.first?function(e,t,n){for(;e=e[c];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var o,r,i,a=[N,p];if(n){for(;e=e[c];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[c];)if(1===e.nodeType||f)if(r=(i=e[k]||(e[k]={}))[e.uniqueID]||(i[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[c]||e;else{if((o=r[u])&&o[0]===N&&o[1]===p)return a[2]=o[2];if((r[u]=a)[2]=s(e,t,n))return!0}return!1}}function xe(r){return 1<r.length?function(e,t,n){for(var o=r.length;o--;)if(!r[o](e,t,n))return!1;return!0}:r[0]}function Ce(e,t,n,o,r){for(var i,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,o,r)||(a.push(i),l&&t.push(s)));return a}function Te(d,h,m,g,v,e){return g&&!g[k]&&(g=Te(g)),v&&!v[k]&&(v=Te(v,e)),le(function(e,t,n,o){var r,i,a,s=[],c=[],l=t.length,u=e||function(e,t,n){for(var o=0,r=t.length;o<r;o++)se(e,t[o],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?u:Ce(u,s,d,n,o),p=m?v||(e?d:l||g)?[]:t:f;if(m&&m(f,p,n,o),g)for(r=Ce(p,c),g(r,[],n,o),i=r.length;i--;)(a=r[i])&&(p[c[i]]=!(f[c[i]]=a));if(e){if(v||d){if(v){for(r=[],i=p.length;i--;)(a=p[i])&&r.push(f[i]=a);v(null,p=[],r,o)}for(i=p.length;i--;)(a=p[i])&&-1<(r=v?O(e,a):s[i])&&(e[r]=!(t[r]=a))}}else p=Ce(p===t?p.splice(l,p.length):p),v?v(null,t,p,o):H.apply(t,p)})}function Se(e){for(var r,t,n,o=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,c=we(function(e){return e===r},a,!0),l=we(function(e){return-1<O(r,e)},a,!0),u=[function(e,t,n){var o=!i&&(n||t!==x)||((r=t).nodeType?c(e,t,n):l(e,t,n));return r=null,o}];s<o;s++)if(t=w.relative[e[s].type])u=[we(xe(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<o&&!w.relative[e[n].type];n++);return Te(1<s&&xe(u),1<s&&be(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(_,"$1"),t,s<n&&Se(e.slice(s,n)),n<o&&Se(e=e.slice(n)),n<o&&be(e))}u.push(t)}return xe(u)}return ye.prototype=w.filters=w.pseudos,w.setFilters=new ye,h=se.tokenize=function(e,t){var n,o,r,i,a,s,c,l=j[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],c=w.preFilter;a;){for(i in n&&!(o=U.exec(a))||(o&&(a=a.slice(o[0].length)||a),s.push(r=[])),n=!1,(o=V.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(_," ")}),a=a.slice(n.length)),w.filter)!(o=G[i].exec(a))||c[i]&&!(o=c[i](o))||(n=o.shift(),r.push({value:n,type:i,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):j(e,s).slice(0)},p=se.compile=function(e,t){var n,g,v,y,b,o,r=[],i=[],a=A[e+" "];if(!a){for(n=(t=t||h(e)).length;n--;)(a=Se(t[n]))[k]?r.push(a):i.push(a);(a=A(e,(g=i,y=0<(v=r).length,b=0<g.length,o=function(e,t,n,o,r){var i,a,s,c=0,l="0",u=e&&[],f=[],p=x,d=e||b&&w.find.TAG("*",r),h=N+=null==p?1:Math.random()||.1,m=d.length;for(r&&(x=t===T||t||r);l!==m&&null!=(i=d[l]);l++){if(b&&i){for(a=0,t||i.ownerDocument===T||(C(i),n=!S);s=g[a++];)if(s(i,t||T,n)){o.push(i);break}r&&(N=h)}y&&((i=!s&&i)&&c--,e&&u.push(i))}if(c+=l,y&&l!==c){for(a=0;s=v[a++];)s(u,f,t,n);if(e){if(0<c)for(;l--;)u[l]||f[l]||(f[l]=M.call(o));f=Ce(f)}H.apply(o,f),r&&!e&&0<f.length&&1<c+v.length&&se.uniqueSort(o)}return r&&(N=h,x=p),u},y?le(o):o))).selector=e}return a},m=se.select=function(e,t,n,o){var r,i,a,s,c,l="function"==typeof e&&e,u=!o&&h(e=l.selector||e);if(n=n||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&S&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(oe,f),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=G.needsContext.test(e)?0:i.length;r--&&(a=i[r],!w.relative[s=a.type]);)if((c=w.find[s])&&(o=c(a.matches[0].replace(oe,f),ne.test(i[0].type)&&ve(t.parentNode)||t))){if(i.splice(r,1),!(e=o.length&&be(i)))return H.apply(n,o),n;break}}return(l||p(e,u))(o,t,!S,n,!t||ne.test(e)&&ve(t.parentNode)||t),n},d.sortStable=k.split("").sort(L).join("")===k,d.detectDuplicates=!!l,C(),d.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||fe(P,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),se}(T);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;function C(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(n))break;o.push(e)}return o}function N(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var E=k.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,n,o){return b(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==o}):n.nodeType?k.grep(e,function(e){return e===n!==o}):"string"!=typeof n?k.grep(e,function(e){return-1<r.call(n,e)!==o}):k.filter(n,e,o)}k.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?k.find.matchesSelector(o,e)?[o]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<o;t++)if(k.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)k.find(e,r[t],n);return 1<o?k.uniqueSort(n):n},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&E.test(e)?k(e):e||[],!1).length}});var L,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||L,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:D.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),A.test(o[1])&&k.isPlainObject(t))for(o in t)b(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=S.getElementById(o[2]))&&(this[0]=r,this.length=1),this}).prototype=k.fn,L=k(S);var M=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function H(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,r=this.length,i=[],a="string"!=typeof e&&k(e);if(!E.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?r.call(k(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(j(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(o,r){k.fn[o]=function(e,t){var n=k.map(this,r,e);return"Until"!==o.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(R[o]||k.uniqueSort(n),M.test(o)&&n.reverse()),this.pushStack(n)}});var I=/[^\x20\t\r\n\f]+/g;function O(e){return e}function P(e){throw e}function F(e,t,n,o){var r;try{e&&b(r=e.promise)?r.call(e).done(t).fail(n):e&&b(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(o){var e,n;o="string"==typeof o?(e=o,n={},k.each(e.match(I)||[],function(e,t){n[t]=!0}),n):k.extend({},o);function r(){for(s=s||o.once,a=i=!0;l.length;u=-1)for(t=l.shift();++u<c.length;)!1===c[u].apply(t[0],t[1])&&o.stopOnFalse&&(u=c.length,t=!1);o.memory||(t=!1),i=!1,s&&(c=t?[]:"")}var i,t,a,s,c=[],l=[],u=-1,f={add:function(){return c&&(t&&!i&&(u=c.length-1,l.push(t)),function n(e){k.each(e,function(e,t){b(t)?o.unique&&f.has(t)||c.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&r()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,c,n));)c.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<k.inArray(e,c):0<c.length},empty:function(){return c=c&&[],this},disable:function(){return s=l=[],c=t="",this},disabled:function(){return!c},lock:function(){return s=l=[],t||i||(c=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||r()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},k.extend({Deferred:function(e){var i=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return k.Deferred(function(o){k.each(i,function(e,t){var n=b(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,o){var c=0;function l(r,i,a,s){return function(){function e(){var e,t;if(!(r<c)){if((e=a.apply(n,o))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?s?t.call(e,l(c,i,O,s),l(c,i,P,s)):(c++,t.call(e,l(c,i,O,s),l(c,i,P,s),l(c,i,O,i.notifyWith))):(a!==O&&(n=void 0,o=[e]),(s||i.resolveWith)(n,o))}}var n=this,o=arguments,t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),c<=r+1&&(a!==P&&(n=void 0,o=[e]),i.rejectWith(n,o))}};r?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),T.setTimeout(t))}}return k.Deferred(function(e){i[0][3].add(l(0,e,b(o)?o:O,e.notifyWith)),i[1][3].add(l(0,e,b(t)?t:O)),i[2][3].add(l(0,e,b(n)?n:P))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(i,function(e,t){var n=t[2],o=t[5];a[t[1]]=n.add,o&&n.add(function(){r=o},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(r,i)}}var n=arguments.length,o=n,r=Array(o),i=s.call(arguments),a=k.Deferred();if(n<=1&&(F(e,a.done(t(o)).resolve,a.reject,!n),"pending"===a.state()||b(i[o]&&i[o].then)))return a.then();for(;o--;)F(i[o],t(o),a.reject);return a.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&q.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){T.setTimeout(function(){throw e})};var B=k.Deferred();function z(){S.removeEventListener("DOMContentLoaded",z),T.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return B.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||B.resolveWith(S,[k])}}),k.ready.then=B.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?T.setTimeout(k.ready):(S.addEventListener("DOMContentLoaded",z),T.addEventListener("load",z));var W=function(e,t,n,o,r,i,a){var s=0,c=e.length,l=null==n;if("object"===x(n))for(s in r=!0,n)W(e,t,s,n[s],!0,i,a);else if(void 0!==o&&(r=!0,b(o)||(a=!0),l&&(t=a?(t.call(e,o),null):(l=t,function(e,t,n){return l.call(k(e),n)})),t))for(;s<c;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):c?t(e[0],n):i},_=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(U,V)}function J(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[X(t)]=n;else for(o in t)r[X(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in o?[t]:t.match(I)||[]).length;for(;n--;)delete o[t[n]]}void 0!==t&&!k.isEmptyObject(o)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var G=new Q,K=new Q,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var o,r;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Y.test(r)?JSON.parse(r):r)}catch(e){}K.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return K.hasData(e)||G.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return G.access(e,t,n)},_removeData:function(e,t){G.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,o,r,i=this[0],a=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){K.set(this,n)}):W(this,function(e){var t;if(i&&void 0===e)return void 0!==(t=K.get(i,n))?t:void 0!==(t=ee(i,n))?t:void 0;this.each(function(){K.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=K.get(i),1===i.nodeType&&!G.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(o=a[t].name).indexOf("data-")&&(o=X(o.slice(5)),ee(i,o,r[o]));G.set(i,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),k.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=G.get(e,t),n&&(!o||Array.isArray(n)?o=G.access(e,t,k.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),o=n.length,r=n.shift(),i=k._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,function(){k.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return G.get(e,n)||G.access(e,n,{empty:k.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||i.resolveWith(a,[a])}var o,r=1,i=k.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=G.get(a[s],e+"queueHooks"))&&o.empty&&(r++,o.empty.add(n));return n(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],re=S.documentElement,ie=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};re.getRootNode&&(ie=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});function se(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===k.css(e,"display")}function ce(e,t,n,o){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in r=n.apply(e,o||[]),t)e.style[i]=a[i];return r}function le(e,t,n,o){var r,i,a=20,s=o?function(){return o.cur()}:function(){return k.css(e,t,"")},c=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+c)&&ne.exec(k.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)k.style(e,t,u+l),(1-i)*(1-(i=s()/c||.5))<=0&&(a=0),u/=i;u*=2,k.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=u,o.end=r)),r}var ue={};function fe(e,t){for(var n,o,r,i,a,s,c,l=[],u=0,f=e.length;u<f;u++)(o=e[u]).style&&(n=o.style.display,t?("none"===n&&(l[u]=G.get(o,"display")||null,l[u]||(o.style.display="")),""===o.style.display&&se(o)&&(l[u]=(c=a=i=void 0,a=(r=o).ownerDocument,s=r.nodeName,(c=ue[s])||(i=a.body.appendChild(a.createElement(s)),c=k.css(i,"display"),i.parentNode.removeChild(i),"none"===c&&(c="block"),ue[s]=c)))):"none"!==n&&(l[u]="none",G.set(o,"display",n)));for(u=0;u<f;u++)null!=l[u]&&(e[u].style.display=l[u]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?k.merge([e],n):n}function ve(e,t){for(var n=0,o=e.length;n<o;n++)G.set(e[n],"globalEval",!t||G.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,be,we=/<|&#?\w+;/;function xe(e,t,n,o,r){for(var i,a,s,c,l,u,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===x(i))k.merge(p,i.nodeType?[i]:i);else if(we.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(de.exec(i)||["",""])[1].toLowerCase(),c=me[s]||me._default,a.innerHTML=c[1]+k.htmlPrefilter(i)+c[2],u=c[0];u--;)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(o&&-1<k.inArray(i,o))r&&r.push(i);else if(l=ie(i),a=ge(f.appendChild(i),"script"),l&&ve(a),n)for(u=0;i=a[u++];)he.test(i.type||"")&&n.push(i);return f}ye=S.createDocumentFragment().appendChild(S.createElement("div")),(be=S.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),y.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var Ce=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Ne(){return!1}function Ee(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,o,r,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)je(e,s,n,o,t[s],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===i&&(a=r,(r=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,r,o,n)})}function Ae(e,r,i){i?(G.set(e,r,!1),k.event.add(e,r,{namespace:!1,handler:function(e){var t,n,o=G.get(this,r);if(1&e.isTrigger&&this[r]){if(o.length)(k.event.special[r]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),G.set(this,r,o),t=i(this,r),this[r](),o!==(n=G.get(this,r))||t?G.set(this,r,!1):n={},o!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else o.length&&(G.set(this,r,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===G.get(e,r)&&k.event.add(e,r,ke)}k.event={global:{},add:function(t,e,n,o,r){var i,a,s,c,l,u,f,p,d,h,m,g=G.get(t);if(g)for(n.handler&&(n=(i=n).handler,r=i.selector),r&&k.find.matchesSelector(re,r),n.guid||(n.guid=k.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(I)||[""]).length;l--;)d=m=(s=Se.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},u=k.extend({type:d,origType:m,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:h.join(".")},i),(p=c[d])||((p=c[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,o,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),k.event.global[d]=!0)},remove:function(e,t,n,o,r){var i,a,s,c,l,u,f,p,d,h,m,g=G.hasData(e)&&G.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(I)||[""]).length;l--;)if(d=m=(s=Se.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=k.event.special[d]||{},p=c[d=(o?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)u=p[i],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(p.splice(i,1),u.selector&&p.delegateCount--,f.remove&&f.remove.call(e,u));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||k.removeEvent(e,d,g.handle),delete c[d])}else for(d in c)k.event.remove(e,d+t[l],n,o,!0);k.isEmptyObject(c)&&G.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,a,s=k.event.fix(e),c=new Array(arguments.length),l=(G.get(this,"events")||{})[s.type]||[],u=k.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,l),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(o=((k.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,c))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,o,r,i,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],a={},n=0;n<c;n++)void 0===a[r=(o=t[n]).selector+" "]&&(a[r]=o.needsContext?-1<k(r,this).index(l):k.find(r,this,null,[l]).length),a[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&j(t,"input")&&G.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return Ae(this,e,Ee),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){k.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=r),t}}}),k.fn.extend({on:function(e,t,n,o){return je(this,e,t,n,o)},one:function(e,t,n,o){return je(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,k(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){k.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,o,r,i,a,s,c,l;if(1===t.nodeType){if(G.hasData(e)&&(i=G.access(e),a=G.set(t,i),l=i.events))for(r in delete a.handle,a.events={},l)for(n=0,o=l[r].length;n<o;n++)k.event.add(t,r,l[r][n]);K.hasData(e)&&(s=K.access(e),c=k.extend({},s),K.set(t,c))}}function Pe(n,o,r,i){o=g.apply([],o);var e,t,a,s,c,l,u=0,f=n.length,p=f-1,d=o[0],h=b(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(o[0]=d.call(this,e,t.html())),Pe(t,o,r,i)});if(f&&(t=(e=xe(o,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(a=k.map(ge(e,"script"),He)).length;u<f;u++)c=e,u!==p&&(c=k.clone(c,!0,!0),s&&k.merge(a,ge(c,"script"))),r.call(n[u],c,u);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Ie),u=0;u<s;u++)c=a[u],he.test(c.type||"")&&!G.access(c,"globalEval")&&k.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):w(c.textContent.replace(Me,""),c,l))}return n}function Fe(e,t,n){for(var o,r=t?k.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||k.cleanData(ge(o)),o.parentNode&&(n&&ie(o)&&ve(ge(o,"script")),o.parentNode.removeChild(o));return e}k.extend({htmlPrefilter:function(e){return e.replace($e,"<$1></$2>")},clone:function(e,t,n){var o,r,i,a,s,c,l,u=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ge(u),o=0,r=(i=ge(e)).length;o<r;o++)s=i[o],"input"===(l=(c=a[o]).nodeName.toLowerCase())&&pe.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(n)for(i=i||ge(e),a=a||ge(u),o=0,r=i.length;o<r;o++)Oe(i[o],a[o]);else Oe(e,u);return 0<(a=ge(u,"script")).length&&ve(a,!f&&ge(e,"script")),u},cleanData:function(e){for(var t,n,o,r=k.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[G.expando]){if(t.events)for(o in t.events)r[o]?k.event.remove(n,o):k.removeEvent(n,o,t.handle);n[G.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return W(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!me[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ge(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],o=k(e),r=o.length-1,i=0;i<=r;i++)t=i===r?this:this.clone(!0),k(o[i])[a](t),c.apply(n,t.get());return this.pushStack(n)}});var qe,Be,ze,We,_e,Ue,Ve,Xe=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=T),t.getComputedStyle(e)},Qe=new RegExp(oe.join("|"),"i");function Ge(e,t,n){var o,r,i,a,s=e.style;return(n=n||Je(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&Xe.test(a)&&Qe.test(t)&&(o=s.width,r=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=r,s.maxWidth=i)),void 0!==a?a+"":a}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ye(){if(Ve){Ue.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(Ue).appendChild(Ve);var e=T.getComputedStyle(Ve);qe="1%"!==e.top,_e=12===Ze(e.marginLeft),Ve.style.right="60%",We=36===Ze(e.right),Be=36===Ze(e.width),Ve.style.position="absolute",ze=12===Ze(Ve.offsetWidth/3),re.removeChild(Ue),Ve=null}}function Ze(e){return Math.round(parseFloat(e))}Ue=S.createElement("div"),(Ve=S.createElement("div")).style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Ve.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return Ye(),Be},pixelBoxStyles:function(){return Ye(),We},pixelPosition:function(){return Ye(),qe},reliableMarginLeft:function(){return Ye(),_e},scrollboxSize:function(){return Ye(),ze}}));var et=["Webkit","Moz","ms"],tt=S.createElement("div").style,nt={};function ot(e){return k.cssProps[e]||nt[e]||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ct(e,t,n){var o=ne.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function lt(e,t,n,o,r,i){var a="width"===t?1:0,s=0,c=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=k.css(e,n+oe[a],!0,r)),o?("content"===n&&(c-=k.css(e,"padding"+oe[a],!0,r)),"margin"!==n&&(c-=k.css(e,"border"+oe[a]+"Width",!0,r))):(c+=k.css(e,"padding"+oe[a],!0,r),"padding"!==n?c+=k.css(e,"border"+oe[a]+"Width",!0,r):s+=k.css(e,"border"+oe[a]+"Width",!0,r));return!o&&0<=i&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function ut(e,t,n){var o=Je(e),r=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,o),i=r,a=Ge(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Xe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,o))&&e.getClientRects().length&&(r="border-box"===k.css(e,"boxSizing",!1,o),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(r?"border":"content"),i,o,a)+"px"}function ft(e,t,n,o,r){return new ft.prototype.init(e,t,n,o,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,a,s=X(t),c=it.test(t),l=e.style;if(c||(t=ot(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,o))?r:l[t];"string"==(i=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=le(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=r&&r[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,o){var r,i,a,s=X(t);return it.test(t)||(t=ot(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ge(e,t,o)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),k.each(["height","width"],function(e,c){k.cssHooks[c]={get:function(e,t,n){if(t)return!rt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,c,n):ce(e,at,function(){return ut(e,c,n)})},set:function(e,t,n){var o,r=Je(e),i=!y.scrollboxSize()&&"absolute"===r.position,a=(i||n)&&"border-box"===k.css(e,"boxSizing",!1,r),s=n?lt(e,c,n,a,r):0;return a&&i&&(s-=Math.ceil(e["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(r[c])-lt(e,c,"border",!1,r)-.5)),s&&(o=ne.exec(t))&&"px"!==(o[3]||"px")&&(e.style[c]=t,t=k.css(e,c)),ct(0,t,s)}}}),k.cssHooks.marginLeft=Ke(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ce(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(r,i){k.cssHooks[r+i]={expand:function(e){for(var t=0,n={},o="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+oe[t]+i]=o[t]||o[t-2]||o[0];return n}},"margin"!==r&&(k.cssHooks[r+i].set=ct)}),k.fn.extend({css:function(e,t){return W(this,function(e,t,n){var o,r,i={},a=0;if(Array.isArray(t)){for(o=Je(e),r=t.length;a<r;a++)i[t[a]]=k.css(e,t[a],!1,o);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=ft).prototype={constructor:ft,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}}).init.prototype=ft.prototype,(ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ft.prototype.init,k.fx.step={};var pt,dt,ht,mt,gt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function yt(){dt&&(!1===S.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(yt):T.setTimeout(yt,k.fx.interval),k.fx.tick())}function bt(){return T.setTimeout(function(){pt=void 0}),pt=Date.now()}function wt(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=oe[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function xt(e,t,n){for(var o,r=(Ct.tweeners[t]||[]).concat(Ct.tweeners["*"]),i=0,a=r.length;i<a;i++)if(o=r[i].call(n,t,e))return o}function Ct(i,e,t){var n,a,o=0,r=Ct.prefilters.length,s=k.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var e=pt||bt(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),o=0,r=l.tweens.length;o<r;o++)l.tweens[o].run(n);return s.notifyWith(i,[l,n,t]),n<1&&r?t:(r||s.notifyWith(i,[l,1,0]),s.resolveWith(i,[l]),!1)},l=s.promise({elem:i,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:pt||bt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(i,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(i,[l,1,0]),s.resolveWith(i,[l,e])):s.rejectWith(i,[l,e]),this}}),u=l.props;for(function(e,t){var n,o,r,i,a;for(n in e)if(r=t[o=X(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(a=k.cssHooks[o])&&"expand"in a)for(n in i=a.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=r);else t[o]=r}(u,l.opts.specialEasing);o<r;o++)if(n=Ct.prefilters[o].call(l,i,u,l.opts))return b(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,xt,l),b(l.opts.start)&&l.opts.start.call(i,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(c,{elem:i,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(Ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){for(var n,o=0,r=(e=b(e)?(t=e,["*"]):e.match(I)).length;o<r;o++)n=e[o],Ct.tweeners[n]=Ct.tweeners[n]||[],Ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,r,i,a,s,c,l,u,f="width"in t||"height"in t,p=this,d={},h=e.style,m=e.nodeType&&se(e),g=G.get(e,"fxshow");for(o in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[o],gt.test(r)){if(delete t[o],i=i||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;m=!0}d[o]=g&&g[o]||k.style(e,o)}if((c=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(o in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=g&&g.display)&&(l=G.get(e,"display")),"none"===(u=k.css(e,"display"))&&(l?u=l:(fe([e],!0),l=e.style.display||l,u=k.css(e,"display"),fe([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===k.css(e,"float")&&(c||(p.done(function(){h.display=l}),null==l&&(u=h.display,l="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,d)c||(g?"hidden"in g&&(m=g.hidden):g=G.access(e,"fxshow",{display:l}),i&&(g.hidden=!m),m&&fe([e],!0),p.done(function(){for(o in m||fe([e]),G.remove(e,"fxshow"),d)k.style(e,o,d[o])})),c=xt(m?g[o]:0,o,p),o in g||(g[o]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?Ct.prefilters.unshift(e):Ct.prefilters.push(e)}}),k.speed=function(e,t,n){var o=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return k.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in k.fx.speeds?o.duration=k.fx.speeds[o.duration]:o.duration=k.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){b(o.old)&&o.old.call(this),o.queue&&k.dequeue(this,o.queue)},o},k.fn.extend({fadeTo:function(e,t,n,o){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(t,e,n,o){function r(){var e=Ct(this,k.extend({},t),a);(i||G.get(this,"finish"))&&e.stop(!0)}var i=k.isEmptyObject(t),a=k.speed(e,n,o);return r.finish=r,i||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof r&&(i=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=k.timers,o=G.get(this);if(t)o[t]&&o[t].stop&&a(o[t]);else for(t in o)o[t]&&o[t].stop&&vt.test(t)&&a(o[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||k.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=G.get(this),n=t[a+"queue"],o=t[a+"queueHooks"],r=k.timers,i=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,o){var r=k.fn[o];k.fn[o]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(wt(o,!0),e,t,n)}}),k.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){k.fn[e]=function(e,t,n){return this.animate(o,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(pt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),pt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){dt||(dt=!0,yt())},k.fx.stop=function(){dt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(o,e){return o=k.fx&&k.fx.speeds[o]||o,e=e||"fx",this.queue(e,function(e,t){var n=T.setTimeout(e,o);t.stop=function(){T.clearTimeout(n)}})},ht=S.createElement("input"),mt=S.createElement("select").appendChild(S.createElement("option")),ht.type="checkbox",y.checkOn=""!==ht.value,y.optSelected=mt.selected,(ht=S.createElement("input")).value="t",ht.type="radio",y.radioValue="t"===ht.value;var Tt,St=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(r=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?Tt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=k.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(I);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),Tt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=St[t]||k.find.attr;St[t]=function(e,t,n){var o,r,i=t.toLowerCase();return n||(r=St[i],St[i]=o,o=null!=a(e,t,n)?i:null,St[i]=r),o}});var kt=/^(?:input|select|textarea|button)$/i,Nt=/^(?:a|area)$/i;function Et(e){return(e.match(I)||[]).join(" ")}function jt(e){return e.getAttribute&&e.getAttribute("class")||""}function At(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,o,r,i,a,s,c=0;if(b(t))return this.each(function(e){k(this).addClass(t.call(this,e,jt(this)))});if((e=At(t)).length)for(;n=this[c++];)if(r=jt(n),o=1===n.nodeType&&" "+Et(r)+" "){for(a=0;i=e[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(s=Et(o))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,o,r,i,a,s,c=0;if(b(t))return this.each(function(e){k(this).removeClass(t.call(this,e,jt(this)))});if(!arguments.length)return this.attr("class","");if((e=At(t)).length)for(;n=this[c++];)if(r=jt(n),o=1===n.nodeType&&" "+Et(r)+" "){for(a=0;i=e[a++];)for(;-1<o.indexOf(" "+i+" ");)o=o.replace(" "+i+" "," ");r!==(s=Et(o))&&n.setAttribute("class",s)}return this},toggleClass:function(r,t){var i=typeof r,a="string"==i||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):b(r)?this.each(function(e){k(this).toggleClass(r.call(this,e,jt(this),t),t)}):this.each(function(){var e,t,n,o;if(a)for(t=0,n=k(this),o=At(r);e=o[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=i||((e=jt(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":G.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&-1<(" "+Et(jt(n))+" ").indexOf(t))return!0;return!1}});var $t=/\r/g;k.fn.extend({val:function(n){var o,e,r,t=this[0];return arguments.length?(r=b(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(o=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in o&&void 0!==o.set(this,t,"value")||(this.value=t))})):t?(o=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in o&&void 0!==(e=o.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace($t,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Et(k.text(e))}},select:{get:function(e){var t,n,o,r=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?i+1:r.length;for(o=i<0?c:a?i:0;o<c;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,o,r=e.options,i=k.makeArray(t),a=r.length;a--;)((o=r[a]).selected=-1<k.inArray(k.valHooks.option.get(o),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in T;function Lt(e){e.stopPropagation()}var Dt=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,o){var r,i,a,s,c,l,u,f,p=[n||S],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(i=f=a=n=n||S,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),c=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[d]||{},o||!u.trigger||!1!==u.trigger.apply(n,t))){if(!o&&!u.noBubble&&!m(n)){for(s=u.delegateType||d,Dt.test(s+d)||(i=i.parentNode);i;i=i.parentNode)p.push(i),a=i;a===(n.ownerDocument||S)&&p.push(a.defaultView||a.parentWindow||T)}for(r=0;(i=p[r++])&&!e.isPropagationStopped();)f=i,e.type=1<r?s:u.bindType||d,(l=(G.get(i,"events")||{})[e.type]&&G.get(i,"handle"))&&l.apply(i,t),(l=c&&i[c])&&l.apply&&J(i)&&(e.result=l.apply(i,t),!1===e.result&&e.preventDefault());return e.type=d,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!J(n)||c&&b(n[d])&&!m(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Lt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Lt),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var o=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(o,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,o){function r(e){k.event.simulate(o,e.target,k.event.fix(e))}k.event.special[o]={setup:function(){var e=this.ownerDocument||this,t=G.access(e,o);t||e.addEventListener(n,r,!0),G.access(e,o,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=G.access(e,o)-1;t?G.access(e,o,t):(e.removeEventListener(n,r,!0),G.remove(e,o))}}});var Mt=T.location,Rt=Date.now(),Ht=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var It=/\[\]$/,Ot=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function qt(n,e,o,r){var t;if(Array.isArray(e))k.each(e,function(e,t){o||It.test(n)?r(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,r)});else if(o||"object"!==x(e))r(n,e);else for(t in e)qt(n+"["+t+"]",e[t],o,r)}k.param=function(e,t){function n(e,t){var n=b(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var o,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(o in e)qt(o,e[o],t,n);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ft.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Bt=/%20/g,zt=/#.*$/,Wt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Vt=/^\/\//,Xt={},Jt={},Qt="*/".concat("*"),Gt=S.createElement("a");function Kt(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,o=0,r=e.toLowerCase().match(I)||[];if(b(t))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function Yt(t,r,i,a){var s={},c=t===Jt;function l(e){var o;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(r,i,a);return"string"!=typeof n||c||s[n]?c?!(o=n):void 0:(r.dataTypes.unshift(n),l(n),!1)}),o}return l(r.dataTypes[0])||!s["*"]&&l("*")}function Zt(e,t){var n,o,r=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o=o||{})[n]=t[n]);return o&&k.extend(!0,e,o),e}Gt.href=Mt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,k.ajaxSettings),t):Zt(k.ajaxSettings,e)},ajaxPrefilter:Kt(Xt),ajaxTransport:Kt(Jt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,f,p,n,d,o,h,m,r,i,g=k.ajaxSetup({},t),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?k(v):k.event,b=k.Deferred(),w=k.Callbacks("once memory"),x=g.statusCode||{},a={},s={},c="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=_t.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||c;return u&&u.abort(t),l(0,t),this}};if(b.promise(C),g.url=((e||g.url||Mt.href)+"").replace(Vt,Mt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(I)||[""],null==g.crossDomain){o=S.createElement("a");try{o.href=g.url,o.href=o.href,g.crossDomain=Gt.protocol+"//"+Gt.host!=o.protocol+"//"+o.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=k.param(g.data,g.traditional)),Yt(Xt,g,t,C),h)return C;for(r in(m=k.event&&g.global)&&0==k.active++&&k.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ut.test(g.type),f=g.url.replace(zt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Bt,"+")):(i=g.url.slice(f.length),g.data&&(g.processData||"string"==typeof g.data)&&(f+=(Ht.test(f)?"&":"?")+g.data,delete g.data),!1===g.cache&&(f=f.replace(Wt,"$1"),i=(Ht.test(f)?"&":"?")+"_="+Rt+++i),g.url=f+i),g.ifModified&&(k.lastModified[f]&&C.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&C.setRequestHeader("If-None-Match",k.etag[f])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Qt+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,C,g)||h))return C.abort();if(c="abort",w.add(g.complete),C.done(g.success),C.fail(g.error),u=Yt(Jt,g,t,C)){if(C.readyState=1,m&&y.trigger("ajaxSend",[C,g]),h)return C;g.async&&0<g.timeout&&(d=T.setTimeout(function(){C.abort("timeout")},g.timeout));try{h=!1,u.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,o){var r,i,a,s,c,l=t;h||(h=!0,d&&T.clearTimeout(d),u=void 0,p=o||"",C.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var o,r,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){c.unshift(r);break}if(c[0]in n)i=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){i=r;break}a=a||r}i=i||a}if(i)return i!==c[0]&&c.unshift(i),n[i]}(g,C,n)),s=function(e,t,n,o){var r,i,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=u.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=l[c+" "+i]||l["* "+i]))for(r in l)if((s=r.split(" "))[1]===i&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(g,s,C,r),r?(g.ifModified&&((c=C.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=c),(c=C.getResponseHeader("etag"))&&(k.etag[f]=c)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=s.state,i=s.data,r=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),C.status=e,C.statusText=(t||l)+"",r?b.resolveWith(v,[i,l,C]):b.rejectWith(v,[C,l,a]),C.statusCode(x),x=void 0,m&&y.trigger(r?"ajaxSuccess":"ajaxError",[C,g,r?i:a]),w.fireWith(v,[C,l]),m&&(y.trigger("ajaxComplete",[C,g]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,r){k[r]=function(e,t,n,o){return b(t)&&(o=o||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:r,dataType:o,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var en={0:200,1223:204},tn=k.ajaxSettings.xhr();y.cors=!!tn&&"withCredentials"in tn,y.ajax=tn=!!tn,k.ajaxTransport(function(r){var i,a;if(y.cors||tn&&!r.crossDomain)return{send:function(e,t){var n,o=r.xhr();if(o.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)o[n]=r.xhrFields[n];for(n in r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)o.setRequestHeader(n,e[n]);i=function(e){return function(){i&&(i=a=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?t(0,"error"):t(o.status,o.statusText):t(en[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),a=o.onerror=o.ontimeout=i("error"),void 0!==o.onabort?o.onabort=a:o.onreadystatechange=function(){4===o.readyState&&T.setTimeout(function(){i&&a()})},i=i("abort");try{o.send(r.hasContent&&r.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var o,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){o=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){o.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(o[0])},abort:function(){r&&r()}}});var nn,on=[],rn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=on.pop()||k.expando+"_"+Rt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var o,r,i,a=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(rn,"$1"+o):!1!==e.jsonp&&(e.url+=(Ht.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||k.error(o+" was not called"),i[0]},e.dataTypes[0]="json",r=T[o],T[o]=function(){i=arguments},n.always(function(){void 0===r?k(T).removeProp(o):T[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,on.push(o)),i&&b(r)&&r(i[0]),i=r=void 0}),"script"}),y.createHTMLDocument=((nn=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===nn.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((o=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(o)):t=S),i=!n&&[],(r=A.exec(e))?[t.createElement(r[1])]:(r=xe([e],t,i),i&&i.length&&k(i).remove(),k.merge([],r.childNodes)));var o,r,i},k.fn.load=function(e,t,n){var o,r,i,a=this,s=e.indexOf(" ");return-1<s&&(o=Et(e.slice(s)),e=e.slice(0,s)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&k.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?k("<div>").append(k.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var o,r,i,a,s,c,l=k.css(e,"position"),u=k(e),f={};"static"===l&&(e.style.position="relative"),s=u.offset(),i=k.css(e,"top"),c=k.css(e,"left"),r=("absolute"===l||"fixed"===l)&&-1<(i+c).indexOf("auto")?(a=(o=u.position()).top,o.left):(a=parseFloat(i)||0,parseFloat(c)||0),b(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):u.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,o=this[0];return o?o.getClientRects().length?(e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===k.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),r.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-k.css(o,"marginTop",!0),left:t.left-r.left-k.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||re})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var i="pageYOffset"===r;k.fn[t]=function(e){return W(this,function(e,t,n){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[r]:e[t];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Ke(y.pixelPosition,function(e,t){if(t)return t=Ge(e,n),Xe.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(o,i){k.fn[i]=function(e,t){var n=arguments.length&&(o||"boolean"!=typeof e),r=o||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var o;return m(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+a],o["scroll"+a],e.body["offset"+a],o["offset"+a],o["client"+a])):void 0===n?k.css(e,t,r):k.style(e,t,n,r)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return o=s.call(arguments,2),(r=function(){return e.apply(t||this,o.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=j,k.isFunction=b,k.isWindow=m,k.camelCase=X,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var an=T.jQuery,sn=T.$;return k.noConflict=function(e){return T.$===k&&(T.$=sn),e&&T.jQuery===k&&(T.jQuery=an),k},e||(T.jQuery=T.$=k),k}),function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs}))}(function(r){function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(e){return e.nodeName.toLowerCase()}function b(e,t){var n=e&&e.exec(t);return n&&0===n.index}function s(e){return o.test(e)}function l(e){var t,n={},o=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return o.forEach(function(e){for(t in e)n[t]=e[t]}),n}function c(e){var r=[];return function e(t,n){for(var o=t.firstChild;o;o=o.nextSibling)3===o.nodeType?n+=o.nodeValue.length:1===o.nodeType&&(r.push({event:"start",offset:n,node:o}),n=e(o,n),f(o).match(/br|hr|img|input/)||r.push({event:"stop",offset:n,node:o}));return n}(e,0),r}function w(a){function s(e){return e&&e.source||e}function c(e,t){return new RegExp(s(e),"m"+(a.cI?"i":"")+(t?"g":""))}!function t(n,e){if(!n.compiled){if(n.compiled=!0,n.k=n.k||n.bK,n.k){function o(n,e){a.cI&&(e=e.toLowerCase()),e.split(" ").forEach(function(e){var t=e.split("|");r[t[0]]=[n,t[1]?Number(t[1]):1]})}var r={};"string"==typeof n.k?o("keyword",n.k):d(n.k).forEach(function(e){o(e,n.k[e])}),n.k=r}n.lR=c(n.l||/\w+/,!0),e&&(n.bK&&(n.b="\\b("+n.bK.split(" ").join("|")+")\\b"),n.b||(n.b=/\B|\b/),n.bR=c(n.b),n.endSameAsBegin&&(n.e=n.b),n.e||n.eW||(n.e=/\B|\b/),n.e&&(n.eR=c(n.e)),n.tE=s(n.e)||"",n.eW&&e.tE&&(n.tE+=(n.e?"|":"")+e.tE)),n.i&&(n.iR=c(n.i)),null==n.r&&(n.r=1),n.c||(n.c=[]),n.c=Array.prototype.concat.apply([],n.c.map(function(e){return function(t){return t.v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return l(t,{v:null},e)})),t.cached_variants||t.eW&&[l(t)]||[t]}("self"===e?n:e)})),n.c.forEach(function(e){t(e,n)}),n.starts&&t(n.starts,e);var i=n.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([n.tE,n.i]).map(s).filter(Boolean);n.t=i.length?c(i.join("|"),!0):{exec:function(){return null}}}}(a)}function x(e,t,i,n){function s(e,t,n,o){var r='<span class="'+(o?"":N.classPrefix);return(r+=e+'">')+t+(n?"":k)}function a(){p+=null!=u.sL?function(){var e="string"==typeof u.sL;if(e&&!S[u.sL])return y(d);var t=e?x(u.sL,d,!0,f[u.sL]):C(d,u.sL.length?u.sL:void 0);return 0<u.r&&(h+=t.r),e&&(f[u.sL]=t.top),s(t.language,t.value,!1,!0)}():function(){var e,t,n,o,r,i,a;if(!u.k)return y(d);for(o="",t=0,u.lR.lastIndex=0,n=u.lR.exec(d);n;)o+=y(d.substring(t,n.index)),r=u,i=n,void 0,a=l.cI?i[0].toLowerCase():i[0],(e=r.k.hasOwnProperty(a)&&r.k[a])?(h+=e[1],o+=s(e[0],y(n[0]))):o+=y(n[0]),t=u.lR.lastIndex,n=u.lR.exec(d);return o+y(d.substr(t))}(),d=""}function c(e){p+=e.cN?s(e.cN,"",!0):"",u=Object.create(e,{parent:{value:u}})}function o(e,t){if(d+=e,null==t)return a(),0;var n=function(e,t){var n,o,r;for(n=0,o=t.c.length;n<o;n++)if(b(t.c[n].bR,e))return t.c[n].endSameAsBegin&&(t.c[n].eR=(r=t.c[n].bR.exec(e)[0],new RegExp(r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m"))),t.c[n]}(t,u);if(n)return n.skip?d+=t:(n.eB&&(d+=t),a(),n.rB||n.eB||(d=t)),c(n),n.rB?0:t.length;var o=function e(t,n){if(b(t.eR,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.eW?e(t.parent,n):void 0}(u,t);if(o){var r=u;for(r.skip?d+=t:(r.rE||r.eE||(d+=t),a(),r.eE&&(d=t));u.cN&&(p+=k),u.skip||u.sL||(h+=u.r),(u=u.parent)!==o.parent;);return o.starts&&(o.endSameAsBegin&&(o.starts.eR=o.eR),c(o.starts)),r.rE?0:t.length}if(function(e,t){return!i&&b(t.iR,e)}(t,u))throw new Error('Illegal lexeme "'+t+'" for mode "'+(u.cN||"<unnamed>")+'"');return d+=t,t.length||1}var l=T(e);if(!l)throw new Error('Unknown language: "'+e+'"');w(l);var r,u=n||l,f={},p="";for(r=u;r!==l;r=r.parent)r.cN&&(p=s(r.cN,"",!0)+p);var d="",h=0;try{for(var m,g,v=0;u.t.lastIndex=v,m=u.t.exec(t);)g=o(t.substring(v,m.index),m[0]),v=m.index+g;for(o(t.substr(v)),r=u;r.parent;r=r.parent)r.cN&&(p+=k);return{r:h,value:p,language:e,top:u}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{r:0,value:y(t)};throw e}}function C(n,e){e=e||N.languages||d(S);var o={r:0,value:y(n)},r=o;return e.filter(T).filter(i).forEach(function(e){var t=x(e,n,!1);t.language=e,t.r>r.r&&(r=t),t.r>o.r&&(r=o,o=t)}),r.language&&(o.second_best=r),o}function u(e){return N.tabReplace||N.useBR?e.replace(a,function(e,t){return N.useBR&&"\n"===e?"<br>":N.tabReplace?t.replace(/\t/g,N.tabReplace):""}):e}function t(e){var t,n,o,r,i,a=function(e){var t,n,o,r,i=e.className+" ";if(i+=e.parentNode?e.parentNode.className:"",n=m.exec(i))return T(n[1])?n[1]:"no-highlight";for(t=0,o=(i=i.split(/\s+/)).length;t<o;t++)if(s(r=i[t])||T(r))return r}(e);s(a)||(N.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=e,i=t.textContent,o=a?x(a,i,!0):C(i),(n=c(t)).length&&((r=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=o.value,o.value=function(e,t,n){function o(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function r(e){c+="<"+f(e)+p.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+y(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function i(e){c+="</"+f(e)+">"}function a(e){("start"===e.event?r:i)(e.node)}for(var s=0,c="",l=[];e.length||t.length;){var u=o();if(c+=y(n.substring(s,u[0].offset)),s=u[0].offset,u===e){for(l.reverse().forEach(i);a(u.splice(0,1)[0]),(u=o())===e&&u.length&&u[0].offset===s;);l.reverse().forEach(r)}else"start"===u[0].event?l.push(u[0].node):l.pop(),a(u.splice(0,1)[0])}return c+y(n.substr(s))}(n,c(r),i)),o.value=u(o.value),e.innerHTML=o.value,e.className=function(e,t,n){var o=t?h[t]:n,r=[e.trim()];return e.match(/\bhljs\b/)||r.push("hljs"),-1===e.indexOf(o)&&r.push(o),r.join(" ").trim()}(e.className,a,o.language),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r}))}function n(){if(!n.called){n.called=!0;var e=document.querySelectorAll("pre code");p.forEach.call(e,t)}}function T(e){return e=(e||"").toLowerCase(),S[e]||S[h[e]]}function i(e){var t=T(e);return t&&!t.disableAutodetect}var p=[],d=Object.keys,S={},h={},o=/^(no-?highlight|plain|text)$/i,m=/\blang(?:uage)?-([\w-]+)\b/i,a=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,k="</span>",N={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return r.highlight=x,r.highlightAuto=C,r.fixMarkup=u,r.highlightBlock=t,r.configure=function(e){N=l(N,e)},r.initHighlighting=n,r.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",n,!1),addEventListener("load",n,!1)},r.registerLanguage=function(t,e){var n=S[t]=e(r);n.aliases&&n.aliases.forEach(function(e){h[e]=t})},r.listLanguages=function(){return d(S)},r.getLanguage=T,r.autoDetection=i,r.inherit=l,r.IR="[a-zA-Z]\\w*",r.UIR="[a-zA-Z_]\\w*",r.NR="\\b\\d+(\\.\\d+)?",r.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",r.BNR="\\b(0b[01]+)",r.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",r.BE={b:"\\\\[\\s\\S]",r:0},r.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[r.BE]},r.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[r.BE]},r.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},r.C=function(e,t,n){var o=r.inherit({cN:"comment",b:e,e:t,c:[]},n||{});return o.c.push(r.PWM),o.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),o},r.CLCM=r.C("//","$"),r.CBCM=r.C("/\\*","\\*/"),r.HCM=r.C("#","$"),r.NM={cN:"number",b:r.NR,r:0},r.CNM={cN:"number",b:r.CNR,r:0},r.BNM={cN:"number",b:r.BNR,r:0},r.CSSNM={cN:"number",b:r.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},r.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[r.BE,{b:/\[/,e:/\]/,r:0,c:[r.BE]}]},r.TM={cN:"title",b:r.IR,r:0},r.UTM={cN:"title",b:r.UIR,r:0},r.METHOD_GUARD={b:"\\.\\s*"+r.UIR,r:0},r}),hljs.registerLanguage("css",function(e){var t={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}}),hljs.registerLanguage("javascript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",n={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},o={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},r={cN:"subst",b:"\\$\\{",e:"\\}",k:n,c:[]},i={cN:"string",b:"`",e:"`",c:[e.BE,r]};r.c=[e.ASM,e.QSM,i,o,e.RM];var a=r.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:n,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,i,e.CLCM,e.CBCM,o,{b:/[{,]\s*/,r:0,c:[{b:t+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:t,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+t+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:t},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:n,c:a}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:t}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:a}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),function(o,r){"use strict";function t(e){try{var t=r.querySelectorAll("code.hljs");for(var n in t)t.hasOwnProperty(n)&&i(t[n],e)}catch(e){o.console.error("LineNumbers error: ",e)}}function i(e,t){if("object"==typeof e){var n=(t=t||{singleLine:!1}).singleLine?0:1;!function(e){o.setTimeout(e,0)}(function(){(function e(t){var n=t.childNodes;for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];0<(r.textContent.trim().match(m)||[]).length&&(0<r.childNodes.length?e(r):a(r.parentNode))}})(e),e.innerHTML=function(e,t){var n=s(e);if(""===n[n.length-1].trim()&&n.pop(),n.length>t){for(var o="",r=0,i=n.length;r<i;r++)o+=c('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[p,u,d,h,f,r+1,0<n[r].length?n[r]:" "]);return c('<table class="{0}">{1}</table>',[l,o])}return e}(e.innerHTML,n)})}}function a(e){var t=e.className;if(/hljs-/.test(t)){for(var n=s(e.innerHTML),o=0,r="";o<n.length;o++)r+=c('<span class="{0}">{1}</span>\n',[t,n[o]]);e.innerHTML=r.trim()}}function s(e){return 0===e.length?[]:e.split(m)}function c(e,n){return e.replace(/\{(\d+)\}/g,function(e,t){return n[t]?n[t]:e})}var e,l="hljs-ln",u="hljs-ln-line",f="hljs-ln-code",p="hljs-ln-numbers",d="hljs-ln-n",h="data-line-number",m=/\r\n|\r|\n/g;o.hljs?(o.hljs.initLineNumbersOnLoad=function(e){"complete"===r.readyState?t(e):o.addEventListener("DOMContentLoaded",function(){t(e)})},o.hljs.lineNumbersBlock=i,(e=r.createElement("style")).type="text/css",e.innerHTML=c(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[l,d,h]),r.getElementsByTagName("head")[0].appendChild(e)):o.console.error("highlight.js not detected!")}(window,document),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function t(e,n,o){function r(e){return String(e)}var i,a,s=window,c="application/octet-stream",l=o||c,u=e,f=!n&&!o&&u,p=document.createElement("a"),d=s.Blob||s.MozBlob||s.WebKitBlob||r,h=n||"download";if(d=d.call?d.bind(s):Blob,"true"===String(this)&&(l=(u=[u,l])[0],u=u[1]),f&&f.length<2048&&(h=f.split("/").pop().split("?")[0],p.href=f,-1!==p.href.indexOf(f))){var m=new XMLHttpRequest;return m.open("GET",f,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,h,c)},setTimeout(function(){m.send()},0),m}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(u)){if(!(2096103.424<u.length&&d!==r))return navigator.msSaveBlob?navigator.msSaveBlob(g(u),h):v(u);l=(u=g(u)).type||c}function g(e){for(var t=e.split(/[:;,]/),n=t[1],o=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=o.length,i=0,a=new Uint8Array(r);i<r;++i)a[i]=o.charCodeAt(i);return new d([a],{type:n})}function v(e,t){if("download"in p)return p.href=e,p.setAttribute("download",h),p.className="download-js-link",p.innerHTML="downloading...",p.style.display="none",document.body.appendChild(p),setTimeout(function(){p.click(),document.body.removeChild(p),!0===t&&setTimeout(function(){s.URL.revokeObjectURL(p.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,c),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(i=u instanceof d?u:new d([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(i,h);if(s.URL)v(s.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===r)try{return v("data:"+l+";base64,"+s.btoa(i))}catch(e){return v("data:"+l+","+encodeURIComponent(i))}(a=new FileReader).onload=function(e){v(this.result)},a.readAsDataURL(i)}return!0}}),function(){"use strict";window.Fast={filter:function(e,t){var n,o=e.length,r=[];for(n=0;n<o;n++)t(e[n],n,e)&&r.push(e[n]);return r},forEach:function(e,t){var n,o=e.length;for(n=0;n<o;n++)t(e[n],n,e)},map:function(e,t){var n,o=e.length,r=new Array(o);for(n=0;n<o;n++)r[n]=t(e[n],n,e);return r},find:function(e,t){var n,o=e.length;for(n=0;n<o;n++)if(t(e[n],n,e))return e[n]},findIndex:function(e,t){var n,o=e.length;for(n=0;n<o;n++)if(t(e[n],n,e))return n;return-1},every:function(e,t){var n,o=e.length;for(n=0;n<o;n++)if(!t(e[n],n,e))return!1;return!0}}}(),function(){"use strict";function s(e,t,n){var o="";t.classes&&(Array.isArray(t.classes)&&(o=t.classes.join(" ")),"string"==typeof t.classes&&(o=t.classes),delete t.classes);var r=$(document.createElement(e)).attr(t);return o&&r.addClass(o),n&&r.append(n),r}window.poof=window.poof||{},poof.el=s;function r(e){return e.replace(/"/g,'\\"').replace(/'/g,"\\'")}function t(e,t,n){if("object"==typeof e&&e.name&&"string"==typeof e.name&&(e=e.name),"string"!=typeof e)return!1;var o=$('.passage-card[name="'+r(e)+'"]');return!!o[0]&&("function"==typeof t&&t.call(null,e,o),o.removeClass("hide"),poof.modal.close(),$("html,body").animate({scrollTop:o.offset().top-37},function(){"function"==typeof n&&n.call(null,e,o)}),!0)}function c(e){return s("a",{classes:"jumpto",href:"javascript:void(0)",title:"Jump"},e).on("click",function(){t(e)})}function n(e){return"object"==typeof e&&e.name&&"string"==typeof e.name&&(e=e.name),!(!poof.passageNames||!Array.isArray(poof.passageNames)||"string"!=typeof e)&&poof.passageNames.includes(e)}var o={gray:"#AAAAAA",grey:"#AAAAAA",red:"#FF4136",orange:"#FF851B",yellow:"#FFDC00",green:"#2ECC40",blue:"#0074D9",purple:"#B10DC9"},i=Object.keys(o);poof.utils={backSlash:"\\",isPassage:n,filterPassages:function(e){return e&&Array.isArray(e)&&e.length?Fast.filter(e,function(e){return n(e)}):[]},getStartingPassage:function(){if(poof.data){var e=Fast.find(poof.passages,function(e){return e.id===poof.data.start});return(e=e||Fast.find(poof.passages,function(e){return"Start"===e.name}))||poof.passages[0]}},scrollTo:t,jumpLink:c,referenceLinks:function(e){var t=!1,n=s("div",{classes:"passage-reference-wrapper"}),o=s("div",{title:"Links and other code in this passage that points to other passages."},"Refers to: "),r=s("div",{title:"Links and other code in other passages that points to this passage."},"Referred by: "),i=Fast.map(e.links.to,function(e){return c(e)}),a=Fast.map(e.links.from,function(e){return c(e)});return a.length&&(t=!0,r.append(a).appendTo(n)),i.length&&(t=!0,o.append(i).appendTo(n)),!!t&&n},voidEl:function(){s("span",{classes:"void"})},stringNotEmpty:function(e){return e&&"string"==typeof e&&e.trim()},unescape:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},escape:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},escapeQuotes:r,tweeEscape:function(e){var t=1;return poof&&poof.config&&(t=poof.config.twee||1),e=e.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/]/g,"\\]"),3===t&&(e=e.replace(/{/g,"\\{").replace(/}/g,"\\}")),2===t&&(e=e.replace(/</g,"\\<").replace(/>/g,"\\>")),e},getTagColor:function(e,t){var n=t;return(n=n||poof.tagColors)&&"object"==typeof n?function(e){return e&&"string"==typeof e||(e=""),e=e.toLowerCase().trim(),i.includes(e)?o[e]:"#AAAAAA"}(n[e]):"#AAAAAA"}}}(),function(){"use strict";function o(){$(".modale").addClass("opened").attr("aria-hidden","false").find('a[tabindex="-1"]').attr({tabindex:"0","aria-hidden":"false"})}function r(e,t){var n=$("#modal-body");t||n.empty(),n.append(e)}function i(e,t){var n=$("#modal-footer");t||n.empty(),n.append(e)}function a(e){$("#modal-title").empty().append(e)}window.poof=window.poof||{},$(document).ready(function(){$(".closemodale").click(function(e){e.preventDefault(),$(".modale").removeClass("opened")})});var e={open:o,close:function(){$(".modale").removeClass("opened").attr("aria-hidden","true").find('a[tabindex="0"]').attr({tabindex:"-1","aria-hidden":"true"})},write:function(e,t,n){a(e),r(t),i(n),o()},title:a,body:r,footer:i};window.poof.modal=e}(),function(){"use strict";function n(e,t,n){var o={disabled:!1,primary:!1,attr:{},classes:[]};n&&"object"==typeof n?n.classes&&"string"==typeof n.classes&&(n.classes=[n.classes]):n={},Object.assign(o,n);var r=o.classes||[];return o.disabled&&r.push("pure-button-disabled"),o.primary&&r.push("pure-button-primary"),r.push("pure-button"),poof.el("button",o.attr).append(e).addClass(r).on("click",function(){t&&"function"==typeof t&&t()})}window.poof=window.poof||{},window.poof.btn={create:n,normal:function(e,t){return n(e,t,{})},primary:function(e,t){return n(e,t,{primary:!0})},grayed:function(e){return n(e,null,{disabled:!0})},disable:function(e,t){var n;if(e instanceof jQuery?n=e:"string"!=typeof e&&"object"!=typeof e||(n=$(e)),n.hasClass("pure-button"))return t?n.addClass("pure-button-disabled"):null==t?n.toggleClass("pure-button-disabled"):n.removeClass("pure-button-disabled"),button},isDisabled:function(e){var t;if(e instanceof jQuery?t=e:"string"!=typeof e&&"object"!=typeof e||(t=$(e)),t.hasClass("pure-button"))return t.hasClass("pure-button-disabled")}}}(),function(){"use strict";window.poof=window.poof||{},window.poof.forms={form:function(e){return poof.el("form",{classes:"pure-form pure-form-aligned left-align"},poof.el("fieldset",{},e))},text:function(e,t,n,o){return poof.el("div",{classes:"pure-control-group"},[poof.el("label",{for:e},t),poof.el("input",{id:e,type:"text",placeholder:n||""}),poof.el("span",{classes:"pure-form-message-inline"},o||"")])},textlist:function(e,t,n,o){var r=e+"-list";return poof.el("form",{classes:"pure-form"},poof.el("fieldset",{},[poof.el("label",{},[t,poof.el("input",{list:r,id:e,placeholder:n})]),poof.el("datalist",{id:r},Fast.map(o,function(e){return poof.el("option",{value:e})}))]))},check:function(e,t){return poof.el("div",{class:"pure-controls"},poof.el("label",{for:e},[poof.el("input",{id:e,type:"checkbox"}),t]))},select:function(e,t,n){if(n&&Array.isArray(n)&&n.length)return poof.el("div",{class:"pure-controls"},[poof.el("label",{for:e},t),poof.el("select",{id:e},Fast.map(n,function(e){return poof.el("option",{},e)}))])},confirm:function(e,t){return poof.btn.primary(e,t).addClass("confirm-btn")},cancel:function(e,t){return poof.btn.normal(e,t).addClass("cancel-btn")}}}(),function(){"use strict";window.poof=window.poof||{};var n=$("tw-storydata").find('tw-passagedata[name="poof.config"]'),o=["very small","small","normal","large","very large"],r=["serif","sans-serif","monospace"],i=[1,2,3];function a(e){return!!e}function s(e,t){return"string"!=typeof e&&(e=String(e)),t&&(e=e.toLowerCase()),e.trim()}function c(e){return"number"!=typeof e&&(e=Number(e)),Number.isNaN(e)&&(e=0),e}var e=function(){var e={ignoreTag:"poof.ignore",format:{name:"",version:""},simplified:!1,lineNumbers:!0,codeHeightLimit:!0,nightMode:!1,fonts:{main:"",code:""},globals:[],pdf:{font:"sans",fontSize:"normal",lineHeight:1.15},json:{pretty:0,verbose:!1},twee:3,parse:!0},t=n.text()||'{ "noConfig" : true }';try{if(t=JSON.parse(t),Object.assign(e,t),e.simplified=a(e.simplified),e.lineNumbers=a(e.lineNumbers),e.codeHeightLimit=a(e.codeHeightLimit),e.nightMode=a(e.nightMode),e.parse=a(e.parse),e.json.verbose=a(e.json.verbose),e.ignoreTag=s(e.ignoreTag),e.format.name=s(e.format.name),e.format.version=s(e.format.version),e.fonts.main=s(e.fonts.main),e.fonts.code=s(e.fonts.code),e.pdf.font=s(e.pdf.font,!0),e.pdf.fontSize=s(e.pdf.fontSize,!0),e.pdf.lineHeight=c(e.pdf.lineHeight),e.twee=Math.trunc(c(e.twee)),e.json.pretty=Math.trunc(c(e.json.pretty)),r.includes(e.pdf.font)||(e.pdf.font="sans"),o.includes(e.pdf.fontSize)||(e.pdf.fontSize="normal"),i.includes(e.twee)||(e.twee="default"),e.pdf.lineHeight<1&&(e.pdf.lineHeight=1),2<e.pdf.lineHeight&&(e.pdf.lineHeight=2),8<e.json.pretty&&(e.json.pretty=8),e.json.pretty<0&&(e.json.pretty=0),e.globals=function(e){return e&&Array.isArray(e)||(e=[]),e}(e.globals),e.globals=Fast.map(Fast.filter(e.globals,function(e){return"string"==typeof e&&/[A-Za-z_$]/.test(e[0])}),function(e){return s(e)}),!i.includes(e.twee))return 1}catch(e){console.warn("Config passage was not parsed:",e),alert("Poof couldn't parse your config passage, check the console for more information.")}finally{return console.log("Poof Settings Loaded",e),e}}();window.poof.configPassage=n.remove(),window.poof.config=e}(),function(){"use strict";window.poof=window.poof||{};var e="",t="";poof.config.format&&"object"==typeof poof.config.format&&(poof.config.format.name&&"string"==typeof poof.config.format.name&&"harlow"===(e=poof.config.format.name.toLowerCase().trim())&&(e="harlowe"),poof.config.format.version&&"string"==typeof poof.config.format.version?t=poof.config.format.version.toLowerCase().trim():e&&(t="sugarcube"===e||"harlowe"===e?"2.x":"1.x"));var n,o,r,i=["$","jQuery","macros","state","tale","SaveSystem","UISystem","strings","config","prehistory","predisplay","prerender","postrender","postdisplay","options","setup","either","lastVisited","passage","previous","random","randomFloat","tags","turns","visited","visitedTags"],a=["$","jQuery","State","Macro","Config","Engine","LoadScreen","Passage","Setting","Save","Story","UI","UIBar","Dialog","Template","SimpleAudio","l10nStrings","setup","settings","postdisplay","postrender","predisplay","prerender","prehistory","clone","either","forget","hasVisited","lastVisited","importScripts","importStyles","memorize","passage","previous","random","randomFloat","recall","setPageElement","tags","temporary","time","turns","variables","visited","visitedTags"],s=["$","jQuery"],c=["$","jQuery","_","story","passage"],l=["$","jQuery","_","story","passage","either","hasVisited","visited","renderToSelector","getStyles"],u=["browser","config","engine","now","passage","random","sound","story","history","state","process","output"],f=(n=e||$("tw-storydata").attr("format").toLowerCase().trim(),o=t||$("tw-storydata").attr("format-version").toLowerCase().trim(),r=o.split(".")[0],{name:n,version:o,major:r,sexy:"sugarcube"===n?"SugarCube":n.charAt(0).toUpperCase()+n.slice(1)});function p(e){var t={};return Fast.forEach(e,function(e){t[e]=!1}),t}window.poof.format=f,window.poof.lint={objectify:p,options:{strict:"implied",undef:!0,browser:!0,devel:!0},globals:"sugarcube"===f.name?p("1"===f.major?i:a):"snowman"===f.name?p("1"===f.major?c:l):"harlowe"===f.name?p(s):"chapbook"===f.name?p(u):{}}}(),function(){"use strict";window.poof=window.poof||{};var n=[],e=$("tw-storydata");e.children("tw-passagedata").each(function(){var e=$(this);e.attr("tags").toLowerCase().includes(poof.config.ignoreTag)||n.push({name:e.attr("name"),id:Number(e.attr("pid")),tags:e.attr("tags"),pos:e.attr("position"),size:e.attr("size"),source:e.html(),links:{to:[],from:[]}})});var o={};e.children("tw-tag").each(function(){var e=$(this);o[e.attr("name")]=e.attr("color")}),n=n.sort(function(e,t){return e.id-t.id});var t=Fast.map(n,function(e){return e.name}),r={name:e.attr("name"),compiler:e.attr("creator"),compilerVersion:e.attr("creator-version"),ifid:e.attr("ifid")||"NO IFID. Consider fixing this!",start:Number(e.attr("starnode")),zoom:Number(e.attr("zoom"))};function i(){var t;try{t=JSON.stringify({ifid:r.ifid||"",format:poof.config.format.name||e.attr("format"),"format-version":poof.config.format.version||e.attr("format-version"),start:poof.utils.getStartingPassage().name||n[0].name,"tag-colors":o,zoom:Number.isNaN(r.zoom)?1:r.zoom},null,4)}catch(e){t="{}",console.error("Error parsing story metadata.")}finally{return t}}var a=Fast.map(e.children('*[type="text/twine-javascript"]').toArray(),function(e){return $(e).html()});a=a&&a.length?a.join("\n\n").trim():"";var s=Fast.map(e.children('*[type="text/twine-css"]').toArray(),function(e){return $(e).html()});function c(e){var t="",n="";switch(poof.config.twee){case 2:t=":: StorySettings [twee2]\nTwee2::build_config.story_ifid = '"+e.ifid+"'\n\n";break;case 3:t=":: StoryData\n"+i()+"\n\n";break;default:t=":: StorySettings\nifid:"+e.ifid+"\n\n"}return poof.configPassage&&poof.utils.stringNotEmpty(poof.configPassage.text())&&(n=":: poof.config",poof.utils.stringNotEmpty(poof.configPassage.attr("tags"))&&(n=n+"["+poof.configPassage.attr("tags")+"]"),n=n+"\n"+poof.configPassage.text().trim()+"\n\n"),poof.utils.stringNotEmpty(n)&&(t+=n),t+":: StoryTitle\n"+e.name+"\n\n"}function l(){return a.trim()?":: Twine_UserScript [script]\n"+a+"\n\n":""}function u(){return s.trim()?":: Twine_UserStylesheet [stylesheet]\n"+s+"\n\n":""}function f(t){if(!t)return"";var e=t.pos||"",n=t.size||"",o="",r="";if(e="string"==typeof e?e.trim():"",n="string"==typeof n?n.trim():"",1===poof.config.twee||2===poof.config.twee&&!e||3===poof.config.twee&&!e&&!n)o="";else if(2===poof.config.twee)o="<"+e+">";else{var i={};e&&(i.position=e),n&&(i.sizing=n);try{o=JSON.stringify(i)}catch(e){console.error('Passage metadata could not be encoded for passage "'+t.name+'".'),o=""}}return t.tags&&t.tags.trim()&&(r=poof.utils.tweeEscape(t.tags.trim())),":: "+poof.utils.tweeEscape(t.name)+(r?" ["+r+"]":"")+(o?" "+o+"\n":"\n")+t.source}s=s&&s.length?s.join("\n\n").trim():"";var p,d,h={html:function(){var e=Fast.map(n,function(e){return function(e){var t=e.tags.replace(/\s+/g," ").trim(),n=e.tags.trim()?"":"hide",o=poof.utils.referenceLinks(e),r=poof.el("div",{"data-id":e.id,classes:"passage-card"}).append(poof.el("div",{classes:"edit",role:"button",title:"Create a comment using this passage's text."},"&#9998;").on("click",function(){$(document).trigger({type:":comment-from-passage-text",passage:e})})).append(poof.el("h2",{classes:"passage-title"},e.name)).append(poof.el("p",{classes:"passage-tags"},poof.el("span",{classes:"tag-title"},"Tags: ")).append(Fast.map(t.split(" "),function(e){return $(document).on(":filter-complete",function(){!1}),poof.el("span",{classes:"tag-listing",title:"Filter..."},e).css({display:"inline-block","border-width":"0 1.1em","border-left-style":"solid","border-color":poof.utils.getTagColor(e),padding:"0 0.1rem","margin-right":"0.5rem"}).on("click",function(){confirm("Would you like to filter the passage view using this tag?")&&poof&&poof.filter&&poof.filter.run&&"function"==typeof poof.filter.run&&($(document).trigger(":filter-start"),!0,poof.filter.run("tags",e),$(document).trigger(":filter-complete"))})})).addClass(n)).append(o?poof.el("div",{classes:"passage-references"},[poof.el("h3",{classes:"passage-references-title"},"References to Other Passages: "),o]):poof.utils.voidEl()).append(poof.el("div",{classes:"passage-source",tabindex:"0"},poof.el("pre",{},e.source.trim()))).append(poof.el("div",{classes:"passage-footer closed"},[poof.el("button",{classes:"comment-open pure-button pure-button-primary",title:"View this passage's comments."},"&#128172;").on("click",function(){$(this).toggleClass("pure-button-primary").parent(".passage-footer").toggleClass("closed"),$(document).trigger({type:":comment-open",passage:e})}),poof.el("div",{classes:"comment-wrapper"})])).attr({name:e.name,"data-pid":e.id,"data-lt":e.source.length});return e.$el=r}(e)});return poof.el("div",{id:"main",classes:"collapse"},function(e){return poof.el("div",{id:"story-data"}).append(poof.el("h1",{id:"title"},"Story: "+e.name)).append(poof.el("p",{id:"format"},poof.format.sexy+" v"+poof.format.version)).append(poof.el("p",{id:"ifid"},"IFID: "+e.ifid)).append(poof.el("p",{id:"compile"},"Made with: "+e.compiler+" "+e.compilerVersion))}(r)).append(e)},p2tw:f,data2tw:function(){return c(r)+u()+l()},tagColors:o,metadata:i,twee:function(){var e=Fast.map(n,function(e){return f(e)}).join("\n\n"),t=c(r)+u()+l()+e;return $(document.createDocumentFragment()).append(t).text()},data:r,passages:n,passageNames:t,scripts:a,styles:s,$scripts:(d=a.trim()?poof.el("pre",{classes:"story-code javascript","data-language":"javascript"},a):poof.utils.voidEl(),poof.el("div",{id:"story-javascript",classes:"passage-card"}).append(poof.el("h2",{classes:"passage-title"},"Story JavaScript")).append(poof.el("div",{classes:"passage-source"}).append(d)).append(poof.el("div",{classes:"lint-btn-wrapper"},poof.el("button",{classes:"lint-btn pure-button pure-button-disabled",id:"lint"},"Lint").attr("title","Requires an Internet connection...").on("click",function(){if(JSHINT){var e,t=poof.lint&&poof.lint.options||{},n=poof.lint&&poof.lint.globals||{};JSHINT(a,t,n),e=JSHINT.errors&&Array.isArray(JSHINT.errors)&&JSHINT.errors.length?poof.el("div",{classes:"errors js-errors"},Fast.map(JSHINT.errors,function(e){return poof.el("p",{classes:"error-p"}).append(poof.el("span",{classes:"error-line"},e.line),poof.el("span",{classes:"error-msg"},e.reason))})):poof.el("div",{classes:"errors js-errors no-errors"},"No errors found"),poof.modal.write("Linting Report",e,poof.el("button",{classes:"pure-button"},"Close").on("click",poof.modal.close))}})))),$styles:(p=s.trim()?poof.el("pre",{classes:"story-code css","data-language":"css"},s):poof.utils.voidEl(),poof.el("div",{id:"story-stylesheet",classes:"passage-card"}).append(poof.el("h2",{classes:"passage-title"},"Story StyleSheet")).append(poof.el("div",{classes:"passage-source"}).append(p))),sortState:"pid"};Object.assign(poof,h),window.poof.init={proofing:function(){$("#content").append(h.html()),$("#overlay").append(h.$scripts.addClass("hide"),h.$styles.addClass("hide"))}}}(),function(){"use strict";if(poof&&poof.utils&&poof.format&&poof.passageNames&&poof.config){var t={generic:[{name:"markup",regex:/\[{2,}(.*?)](\[.*?])?]{1,}/gi,group:1}],sugarcube:[{name:"linkMacro",regex:/<<(link|button)\s*["'](.*?)["']\s*['"](.*?)['"]\s*?>>/gi,group:3},{name:"gotoMacro",regex:/<<goto\s*["'](.*?)["']\s*?>>/gi,group:1},{name:"includeMacro",regex:/<<(include|display)\s*["'](.*?)["']\s*?.*?>>/gi,group:2}],harlowe:[{name:"linkMacro",regex:/\((link|click)-?go-?to:\s*?["'](.*?)['"],\s*?['"](.*?)['"]\s*?\)/gi,group:3},{name:"linkRevealMacro",regex:/\((link|click)-?reveal-?go-?to:\s*?["'](.*?)['"],\s*?['"](.*?)['"]\s*?\)/gi,group:3},{name:"gotoMacro",regex:/\(go-?to:\s*?["'](.*?)['"]\s*?\)/gi,group:1},{name:"includeMacro",regex:/\(display:\s*?["'](.*?)['"]\s*?\)/gi,group:1}],chapbook:[{name:"linkInsert",regex:/{\s*?link\s+to\s+["'](.*?)["'].*?}/gi,group:1},{name:"embedInsert",regex:/{\s*?embed\s+passage(\s+named)?:\s+["'](.*?)["']\s*?}/gi,group:2},{name:"revealInsert",regex:/{\s*?reveal\s+link:.*?passage:\s+?['"](.*?)["'].*?}/gi,group:1}]},e=n(poof.format.name);poof.config.parse&&o(),poof.parser={getParsers:n,parsers:e,parsePassageSource:r,parse:o}}else console.error("BUILD ERROR!");function n(e){return t[e]&&"generic"!==e?t.generic.concat(t[e]):t.generic}function r(e,t){if("object"==typeof e&&e.source&&"string"==typeof e.source&&(e=e.source),"string"==typeof e){var n=[],i=poof.utils.unescape(e);return Fast.forEach(t,function(o){var r=[],e=i.match(o.regex);e&&Fast.forEach(e,function(e){var t,n=o.regex.exec(e)||o.regex.exec(e);n||"markup"!==o.name||(e=e.replace(/\[+/g,"[[").replace(/(]\[.*]+|]+)/g,"]]"),n=/\[{2,}(.*?)]{2,}/g.exec(e)),n&&(t=n[o.group],"markup"===o.name&&(t=function(e){return"["===e[0]&&"["===e[1]&&(e=e.substr(2,e.length-2)),e.includes("|")?e.split("|")[1]||e:e.includes("->")?e.split("->")[1]||e:e.includes("<-")&&e.split("<-")[0]||e}(t)),r.includes(t)||r.push(poof.utils.unescape(t)))}),r.length&&(n=n.concat(r))}),n}console.warn("reference parser -> passage text could not be found.")}function o(){Fast.forEach(poof.passages,function(o){poof.utils.stringNotEmpty(o.source)&&(o.links.to=poof.utils.filterPassages(r(o.source,e)),Fast.forEach(o.links.to,function(t){var e=Fast.findIndex(poof.passages,function(e){return t===e.name}),n=poof.passages[e];n&&!n.links.from.includes(o.name)&&n.links.from.push(o.name)}))})}}(),function(){"use strict";window.poof=window.poof||{};var t="%%poof-"+poof.data.name+poof.data.ifid;window.poof.store=window.localStorage?{save:function(e){localStorage.setItem(t,JSON.stringify(e))},load:function(){try{return JSON.parse(localStorage.getItem(t)||'{ "hasData" : "hasData" }')}catch(e){return console.warn(e),!1}},del:function(){localStorage.removeItem(t)}}:(console.warn("Cannot access storage."),{save:function(){},load:function(){},del:function(){}})}(),function(){"use strict";function s(e){return e.trim().toLowerCase().replace(/\s+/g," ")}function i(e,o,r,i){var a;return Fast.filter(e,function(e){return"tags"!==o?(a="comments"===o?poof.state&&poof.state.comments&&poof.state.comments[e.name]&&Array.isArray(poof.state.comments[e.name])&&poof.state.comments[e.name].length:s(e[o]).includes(s(r)),i?!a:a):e.tags&&e.tags.trim()?(n=function(e){return(e=s(e)).split(" ")}(r),t=s(e.tags),a=Fast.every(n,function(e){return t.includes(e)}),i?!a:a):!!i;var t,n})}function a(){var e=[];return e=$(".passage-card.hide").toArray(),$(".passage-card").removeClass("hide"),e}function e(e){$(e).addClass("hide")}function c(e){return Fast.map(e,function(e){return e.$el})}var t={normalize:s,run:function(e,t,n,o){o||a();var r=i(poof.passages,e,t,!n);return $(c(r)).each(function(){$(this).addClass("hide")}),r},clear:a,revert:e,passage:{show:function(e){e.$el.removeClass("hide")},hide:function(e){e.$el.addClass("hide")},to$:c}};window.poof.filter=t}(),function(){"use strict";var a={"-name":"name",name:"name","-pid":"data-pid",pid:"data-pid","-length":"data-lt",length:"data-lt"};function s(){return $("#main").children(".passage-card").detach()}function c(e){$("#main").append(e)}window.poof.filter.sorting={run:function(e){if(Object.keys(a).includes(e)){if(window.poof.sortState!==e){var t,n,o,r=s(),i=!1;e.includes("-")&&(i=!0),"data-lt"===(t=a[e])&&(i=!i),n=t,o=i,r.sort(function(e,t){return function(e,t,n,o){var r,i=poof.filter.normalize($(e).attr(n)),a=poof.filter.normalize($(t).attr(n));return"name"===n?((r=i<a?-1:a<i?1:0)&&o&&(r*=-1),r):(i=Number(i),a=Number(a),o?a-i:i-a)}(e,t,n,o)}),c(r),window.poof.sortState=e}}else console.error("Invalid sorting property or attribute!")},detach:s,attach:c}}(),function(){"use strict";var r=Fast.map(poof.passages,function(e){return e.name}),a={"Passage Titles":"name","Passage IDs":"pid","Source Code Length":"length"};function l(e){return!(!e||"string"!=typeof e||!e.trim())}window.poof.tools={filter:function(){var e=poof.forms.text("title-filter","Passage Title: ","title..."),t=poof.forms.text("tags-filter","Passage Tags: ","tags...","Seperate tags with spaces."),n=poof.forms.text("source-filter","Passage Text: ","source..."),o=poof.forms.check("comment-filter","Passage has comments.").attr("title","Show only passages with poof comments."),r=poof.forms.check("invert-filter","Invert.").attr("title","Check to instead hide the passages that meet these criteria."),i=poof.forms.form([e,t,n,o,r]),a=poof.el("p",{classes:"form-expanation"},"Show only the passages that meet the following criteria."),s=poof.forms.confirm("Filter",function(){poof.modal.close(),$(document).trigger(":filter-start"),poof.filter.clear();var e=$("#title-filter").val(),t=$("#tags-filter").val(),n=$("#source-filter").val(),o=$("#comment-filter").prop("checked"),r=$("#invert-filter").prop("checked");l(e)&&poof.filter.run("name",e,r),l(t)&&poof.filter.run("tags",t,r),l(n)&&poof.filter.run("source",n,r),o&&poof.filter.run("comments",null,r),$(document).trigger(":filter-complete")}),c=poof.forms.cancel("Clear",function(){poof.modal.close(),$(document).trigger(":filter-start"),poof.filter.clear(),$(document).trigger(":filter-complete")});poof.modal.write("Filter Passages",[a,i],[s,c])},sort:function(){var e=poof.forms.select("sort-param","Select the property to sort by: ",["Passage Titles","Passage IDs","Source Code Length"]),t=poof.forms.check("sort-reverse","Reverse.").attr("title","Reverse the sorting order."),n=poof.el("p",{classes:"form-expanation"},"Sort the passage list using one of the following criteria."),o=poof.el("form",{classes:"pure-form"},poof.el("fieldset",{},[e,"<br />",t])),r=poof.forms.confirm("Sort",function(){poof.modal.close(),$(document).trigger(":sort-start");var e=$("#sort-reverse").prop("checked"),t=a[$("#sort-param").val()];console.log(t),e&&(t="-"+t),poof.filter.sorting.run(t),$(document).trigger(":sort-complete")}),i=poof.forms.cancel("Restore Default",function(){poof.modal.close(),$(document).trigger(":sort-start"),poof.filter.sorting.run("pid"),$(document).trigger(":sort-complete")});poof.modal.write("Sort Passages",[n,o],[r,i])},find:function(){var e=poof.forms.textlist("find-passage","Enter a passage title to look for: ","passage...",r),t=poof.el("div",{id:"find-error"}),n=poof.forms.confirm("Find",function(){var e=$("#find-passage").val();poof.utils.scrollTo(e,function(){$(document).trigger(":find-start")},function(){$(document).trigger(":find-complete")})||t.empty().append('<br/><br/>Cannot find a passage titled "'+e+'".')}),o=poof.forms.cancel("Cancel",function(){poof.modal.close()});poof.modal.write("Find Passages",[e,t],[n,o])},starting:function(){poof.utils.scrollTo(poof.utils.getStartingPassage().name||poof.passages[0].name)}}}(),function(){"use strict";var e=$("#sidebar ul"),t=$("#sidebar"),n=$("#sidebar-link");function o(e){n.empty().append(e?"&#10060;":"&#9776;")}function r(){t.toggleClass("closed"),t.hasClass("closed")?o(!1):o(!0)}function i(){t.addClass("closed"),o(!1)}function a(){return e.empty()}function s(){a().append(Fast.map($(".passage-card").not(".hide").map(function(){return $(this).attr("name")}),function(e){return $(document.createElement("li")).append(poof.utils.jumpLink(e).addClass("sidebar-jump").on("click",function(){i()}))}))}$(document).on(":filter-complete :sort-complete",function(){s()}),poof.sidebar={clear:a,populate:s,$el:t,$content:e,toggle:r,open:function(){t.removeClass("closed"),o(!0)},close:i},poof.init.sidebar=function(){n.on("click",function(){r()}),s()}}(),function(){function n(t){var n=[];return Fast.forEach(poof.passages,function(e){n.push(function(e,t){var n={};return Object.assign(n,{name:e.name,pid:e.id,tags:e.tags.split(" ").filter(function(e){return!!e}),source:e.source}),t||Object.assign(n,{referTo:e.links.to,referFrom:e.links.from,position:e.pos,size:e.size,rawTags:e.tags}),n}(e,t))}),n}function o(e){var t=Object.assign({spaces:0,meta:!0},e);t.spaces=Math.trunc(t.spaces),"number"!=typeof t.spaces||t.spaces<0?t.spaces=0:8<t.spaces&&(t.spaces=8),t.meta=!!t.meta;try{return JSON.stringify(n(!t.meta),null,t.spaces||void 0)}catch(e){console.error("Export failed -> ",e.message,e),alert("Export failed--see console for more information.")}}poof.stringify=o,poof.getJSON=function(e){var t=poof.config.json.pretty,n=!!poof.config.json.verbose;download(o({spaces:t?4:0,meta:n}),e,"application/json;charset=utf-8"),$(document).trigger(":json-export-end")}}(),function(){"use strict";function o(e){return!!window[e]||function(e){return console.error('Script: "'+e+'" is not loaded...'),!1}(e)}function r(){var e=$("tw-storydata").clone();return poof.configPassage&&poof.utils.stringNotEmpty(poof.configPassage.text())&&e.append(poof.configPassage),$(document.createDocumentFragment()).append(document.createTextNode(e[0].outerHTML)).text()}function i(e){pdfMake||alert("Creating a PDF requires an Internet connection. If you have a connection, please wait for a few seconds and try again."),$(document).trigger(":pdf-export-start");var t=$("div.passage-card").toArray(),n=[{text:"Story: "+poof.data.name+"\n\n",style:"storyTitle"},{text:"IFID: "+poof.data.ifid+"\n\n\n\n",style:"ifid"}];Fast.forEach(t,function(t){if(!$(t).hasClass("hide")){var e=Fast.find(poof.passages,function(e){return Number($(t).attr("data-pid"))===e.id});e&&"object"==typeof e&&(n.push({text:"\n\n"+e.name,style:"title"}),e.tags&&n.push({text:"\n\nTags: "+e.tags,style:"tags"}),n.push({text:"\n\n"+poof.utils.unescape(e.source)+"\n\n",style:"content",preserveLeadingSpaces:!0}))}});var o=function(e,t,n){return{styles:{storyTitle:{fontSize:22<e+10?22:e+10,font:"sans",alignment:"center"},ifid:{fontSize:e+2,alignment:"center",font:"monospace"},title:{fontSize:e+4,alignment:"center",font:"sans"},tags:{fontSize:e,font:"italic"},content:{fontSize:e,lineHeight:t,font:n}}}}(function(){if(!(poof&&poof.config&&poof.config.pdf&&poof.config.pdf.fontSize))return 12;switch(poof.config.pdf.fontSize){case"very small":return 8;case"small":return 10;case"large":return 14;case"very large":return 16;default:return 12}}(),poof.config.pdf.lineHeight,poof&&poof.config&&poof.config.pdf&&poof.config.pdf.font?poof.config.pdf.font:"sans");o.content=n,console.log({monospace:{normal:"monospace.ttf"},serif:{normal:"serif.ttf"},sans:{normal:"sans.ttf"},bold:{normal:"bold.ttf"},italic:{normal:"italic.ttf"}}),pdfMake.createPdf(o,null,{monospace:{normal:"monospace.ttf"},serif:{normal:"serif.ttf"},sans:{normal:"sans.ttf"},bold:{normal:"bold.ttf"},italic:{normal:"italic.ttf"}},vfs).download(e,function(){$(document).trigger(":pdf-export-complete")})}window.poof=window.poof||{},window.poof.hasScript=o,window.poof.export={archive:r,PDF:i},window.poof.createDownload=function(e){if(o("download")){if(!window.poof)return void console.error("Cannot find generated content output!");var t=e;if("txt"===t)switch(poof.config.twee){case 1:case 3:t="twee";break;case 2:t="tw2";break;default:extention="txt"}var n=function(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").trim()}(poof.data.name)+"."+t;"txt"===e?download(poof.utils.unescape(function(){var e=$("div.passage-card").toArray(),n=[];return Fast.forEach(e,function(t){if(!$(t).hasClass("hide")){var e=Fast.find(poof.passages,function(e){return Number($(t).attr("data-pid"))===e.id});n.push(poof.p2tw(e))}}),n=n.join("\n\n"),poof.data2tw()+n}()),n,"text/plain;charset=utf-8"):"html"===e?download(document.documentElement.outerHTML,n,"text/html;charset=utf-8"):"pdf"===e?i(n):"json"===e?poof.getJSON(n):(n+=".html",download(r(),n,"text/html;charset=utf-8"))}}}(),function(){"use strict";window.poof=window.poof||{},window.poof.init=window.poof.init||{};var i=poof.utils.escape,u=poof.utils.unescape;function a(e,n){var t=(0,poof.el)("div",{classes:"comments-list"}),o=Fast.map(e,function(e,t){return function(e,t,n){var o=poof.el;return o("div",{classes:"comment-readout"},[o("div",{classes:"number"},t+1),o("div",{classes:"title"},i(e.title)),o("div",{classes:"content"},i(e.body))]).attr({role:"button",title:e.title}).on("click",function(){$(document).trigger({type:":view-comment",comment:e,idx:t,passage:n})}).css("cursor","pointer")}(e,t,n)});return t.append(o),t}function f(e,t){if(confirm("Are you sure you want to permanently delete this comment?"))return poof.state.comments[e.name].splice(t,1),$(document).trigger({type:":refresh-comments",passage:e}),!0}function p(t,n){poof.state.comments[t.name]=poof.state.comments[t.name]||[];var o=poof.state.comments[t.name],r="number"==typeof n&&o[n],e="boolean"==typeof n&&n,i=poof.forms.text("comment-title","","Title..."),a=poof.el("textarea",{id:"comment-content",placeholder:"Write a comment...",spellcheck:"true",contenteditable:"true"});r?(i.find("#comment-title").val(o[n].title),a.val(o[n].body)):e&&(i.find("#comment-title").val(t.name),a.val(u(t.source)));var s=poof.el("form",{classes:"pure-form"},poof.el("fieldset",{classes:"pure-group"},[i,a])),c=poof.forms.confirm("Save",function(){var e={title:$("#comment-title").val(),body:$("#comment-content").val()};e.title||e.body?(r?(o[n]=e,$(document).trigger({type:":view-comment",comment:e})):(o.push(e),poof.modal.close()),$(document).trigger({type:":refresh-comments",passage:t})):poof.modal.write("Hmmm","Your comment is totally blank! Are you trying to delete it?",[poof.forms.confirm("No!",function(){p(t,n)}),poof.forms.cancel("Yes, delete it.",function(){"number"!=typeof n||f(t,n)?poof.modal.close():p(t,n)})])}),l=poof.forms.cancel("Cancel",function(){r?$(document).trigger({type:":view-comment",comment:o[n],passage:t,idx:n}):poof.modal.close()});poof.modal.write("Edit Comment",s,[c,l])}function s(){window.poof.store.save(window.poof.state),console.log("State saved!")}function c(){var n=poof.state.comments;Fast.forEach(Object.keys(n),function(e){var t=n[e].length;t&&(t="&#128172; "+t,$('.passage-card[name="'+e+'"]').find("button.comment-open").empty().append(t))})}$(document).on(":refresh-comments",function(e){s();var t=poof.state.comments[e.passage.name],n=e.passage.$el.children(".passage-footer"),o=n.children(".comment-wrapper");if(n.find("button.comment-open").empty().append("&#128172; "+(t.length||"")),!n.hasClass("closed")){var r=poof.btn.primary("New Comment",function(){$(document).trigger({type:":new-comment",passage:e.passage})}),i=a(t,e.passage);o.empty().append(i,r)}}),$(document).on(":comment-open",function(e){var t=poof.state.comments[e.passage.name],n=e.passage.$el.children(".passage-footer"),o=n.children(".comment-wrapper");if(n.hasClass("closed"))o.empty();else if(t&&Array.isArray(t)&&t.length){var r=poof.btn.primary("New Comment",function(){$(document).trigger({type:":new-comment",passage:e.passage})}),i=a(t,e.passage);o.empty().append(i,r)}else o.empty().append(poof.el("div",{role:"button",classes:"empty-comment add-comment"},"+ Add a comment...").on("click",function(){$(document).trigger({type:":new-comment",passage:e.passage})}))}),$(document).on(":new-comment",function(e){p(e.passage)}),$(document).on(":comment-from-passage-text",function(e){p(e.passage,!0)}),$(document).on(":view-comment",function(e){!function(e,t,n){var o=poof.forms.confirm("Edit",function(){p(n,t)}),r=poof.forms.cancel("Delete",function(){f(n,t)&&poof.modal.close()});poof.modal.write(e.title,poof.el("p",{classes:"comment-content-out"},i(e.body)),[o,r])}(e.comment,e.idx,e.passage)}),window.poof.comments={store:s,export:function(){var e=window.poof.state,t=poof.data.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").trim()+".comments.poof";try{e=btoa(JSON.stringify(e))}catch(e){return console.warn(e),void alert('Something went wrong. Error code: "camel". Please report this bug at: https://github.com/ChapelR/poof/issues/new')}download(e,t,"text/plain;charset=utf-8")},import:function(e){var n,o=[],t={};try{n=JSON.parse(atob(e))}catch(e){return console.warn(e),void alert("This file could not be opened. It may be corrupted.")}if(n.ifid&&"string"==typeof n.ifid?n.ifid.trim().toLowerCase()!==poof.data.ifid.trim().toLowerCase()&&(o.push("This file has a different IFID than the loaded story."),t.ifid=poof.data.ifid):(o.push("This file is missing some of its metadata."),t.ifid=poof.data.ifid),n.comments&&"object"==typeof n.comments?Object.keys(n.comments).length||o.push("There appear to be no comments in this file."):(o.push("The comments in this file may be corrupted or missing."),t.comments={}),o.length){var r="There "+(1<o.length?"are multiple ":"is a ")+"problem with this comment file: \n\n"+o.join("\n")+"\n\nWould you like to try to load it anyway?";if(!confirm(r))return;console.log("Attempting to fix malformed comment data: ",n,t),Object.assign(n,t),console.log("Fix restults: ",n)}function i(e){return e&&Array.isArray(e)&&e.length}$(".passage-footer").addClass("closed"),o=[],Fast.forEach(Object.keys(n.comments),function(t){if(-1===Fast.findIndex(poof.passages,function(e){return t===e.name}))o.push('Cannot find passage "'+t+'", ignoring comments.');else{if(!n.comments[t]||!i(n.comments[t]))return;if(poof.state.comments[t]&&i(poof.state.comments[t]))return void(poof.state.comments[t]=poof.state.comments[t].concat(n.comments[t]));poof.state.comments[t]=n.comments[t]}}),o.length&&(console.warn(o.join("\n")),alert("Some comments may not have been imported, check the console for more information.")),console.log("File import complete; updating state."),s(),c()}},window.poof.init.comments=function(){var e=poof.store.load(),t=e?(console.log('Poof state loaded from local storage for story "'+poof.data.ifid+'".'),e):(console.log('Poof state generated for story "'+poof.data.ifid+'".'),!1);window.poof.state={ifid:poof.data.ifid,comments:t&&t.comments||{}},c()}}(),function(){"use strict";window.poof=window.poof||{},window.poof.comments=window.poof.comments||{},window.poof.comments.importer=function(){poof.modal.write("Import Comments",function(e){return poof.el("label",{for:e},[poof.el("a",{classes:"pure-button pure-button-primary"},"Import a File"),poof.el("input",{id:e,type:"file"}).on("change",function(e){$(document).trigger(":load-open"),poof.modal.close();var t=e.target.files[0],n=new FileReader;$(n).on("load",function(e){var t=e.currentTarget;if(t.result)try{poof.comments.import(t.result)}catch(e){return console.warn(e),void alert('Something went wrong. Error code: "raven". Please report this bug at: https://github.com/ChapelR/poof/issues/new')}finally{$(document).trigger(":load-close")}}),n.readAsText(t)})])}("comment-file-importer"),poof.btn.normal("Cancel",poof.modal.close))}}(),function(){"use strict";window.poof.viewModes={dark:function(e){$(document.documentElement).toggleClass("night").hasClass("night")?e.addClass("on"):e.removeClass("on")},simple:function(e){$("#content").toggleClass("simple").hasClass("simple")?e.addClass("on"):e.removeClass("on")},lineNo:function(e){$("td.hljs-ln-numbers").toggleClass("hide").hasClass("hide")?e.removeClass("on"):e.addClass("on")},textHt:function(e){$("#main").toggleClass("collapse").hasClass("collapse")?e.addClass("on"):e.removeClass("on")}}}(),function(){"use strict";function e(){$("#overlay").removeClass("hide"),$("#main").addClass("smallify")}function t(){$("#overlay").addClass("hide"),$("#main").removeClass("smallify")}function i(e,t,n){return poof.el("li",{classes:"credit-link"},[poof.el("a",{href:t,target:"_blank"},e)," ("+n+") "])}window.poof=window.poof||{},window.poof.init=window.poof.init||{},$(document).on(":load-open",function(){e(),$(".pure-menu").addClass("hide"),$("#story-stylesheet #story-javascript").addClass("hide"),$("#overlay").find(".loader").removeClass("hide")}),$(document).on(":load-close",function(){t(),$(".pure-menu").removeClass("hide"),$("#overlay").find(".loader").addClass("hide")}),$(document).on(":sort-start :filter-start :pdf-export-start",function(){$(document).trigger(":load-open")}),$(document).on(":sort-complete :filter-complete :pdf-export-complete",function(){$(document).trigger(":load-close")}),$(document).on(":filter-start :filter-complete",function(){var e=$("button#clear-filters");$(".passage-card.hide").length?e.show():e.hide()}),window.poof.init.menu=function(){$("#about").on("click",function(){var e=poof.el("p",{},$("body").attr("data-byline")+"."),t=poof.el("p",{},"Version: "+$("body").attr("data-version")),n=poof.el("p",{},"Open Source Software Credits: "),o=function(){var e=i;return poof.el("ul",{id:"credits"},[e("twinejs","http://twinery.org/","GPL-3.0"),e("pdfmake","http://pdfmake.org/","MIT"),e("download.js","http://danml.com/download.html","CC-BY-4.0"),e("jshint","https://jshint.com/","MIT"),e("highlight.js","https://highlightjs.org/","<a href='https://github.com/highlightjs/highlight.js/blob/master/LICENSE' target='_blank'>License</a>"),e("highlightjs-line-numbers.js","https://wcoder.github.io/highlightjs-line-numbers.js/","MIT"),e("jQuery","https://jquery.com/","MIT"),e("normalize.css","https://necolas.github.io/normalize.css/","MIT"),e("pure.css","https://purecss.io/","BSD")])}(),r=poof.btn.normal("Dismiss",function(){poof.modal.close()});poof.modal.write("About poof",[e,t,n,o],r)}).attr("title","About this story format."),$("#twee-export").on("click",function(){poof.createDownload("txt")}).attr("title","Export to plain text in Twee notation."),$("#html-export").on("click",function(){poof.createDownload("html")}).attr("title","Save this HTML view for sharing and later use."),$("#pdf-export").on("click",function(){poof.createDownload("pdf")}).attr("title","Export to PDF format for printing or sharing."),$("#archive-export").on("click",function(){poof.createDownload("archive")}).attr("title","Export to a Twine 2 archive HTML file."),$("#night").on("click",function(){poof.viewModes.dark($(this))}).attr("title","Toggle night mode."),$("#simple").on("click",function(){poof.viewModes.simple($(this))}).attr("title","Toggle a simpler view mode."),$("#line-no").on("click",function(){poof.viewModes.lineNo($(this))}).attr("title","Toggle whether to show line numbers."),$("#collapse").on("click",function(){poof.viewModes.textHt($(this))}).attr("title","Toggle whether to use a scrollbar for lengthy text."),$("#passages").on("click",function(){t(),$("#story-stylesheet").addClass("hide"),$("#story-javascript").addClass("hide"),$("#sidebar-link").removeClass("invis")}).attr("title","View your passages."),$("#javascript").on("click",function(){e(),$("#story-stylesheet").addClass("hide"),$("#story-javascript").removeClass("hide"),$("#sidebar-link").addClass("invis"),JSHINT&&$("#lint").removeClass("pure-button-disabled").attr("title","Check your JavaScript code for errors.")}).attr("title","View your JavaScript code."),$("#stylesheet").on("click",function(){e(),$("#story-stylesheet").removeClass("hide"),$("#story-javascript").addClass("hide"),$("#sidebar-link").addClass("invis")}).attr("title","View your stylesheet."),$("#tools-filter").on("click",function(){poof.tools.filter()}).attr("title","Filter the displayed passages."),$("#tools-sort").on("click",function(){poof.tools.sort()}).attr("title","Sort the displayed passages."),$("#tools-find").on("click",function(){poof.tools.find()}).attr("title","Find a specific passage by title."),$("#tools-starting").on("click",function(){poof.tools.starting()}).attr("title","Locate the starting passage."),$("#comments-export").on("click",function(){poof.comments.export()}).attr("title","Export comments to file."),$("#comments-import").on("click",function(){poof.comments.importer()}).attr("title","Import comments from a file."),$(document.body).append(poof.el("button",{id:"clear-filters",label:"Clear all current filters.",classes:"pure-button pure-button-primary"},"Clear Filters").on("click",function(){$(document).trigger(":filter-start"),poof.filter.clear(),$(document).trigger(":filter-complete")}).hide())}}(),function(){"use strict";$(document).ready(function(){if(window.poof&&window.poof.init){if(poof.init.proofing(),poof.init.comments(),poof.init.menu(),poof.init.sidebar(),poof.config.simplified&&poof.viewModes.simple($("#simple")),poof.config.codeHeightLimit||poof.viewModes.textHt($("#collapse")),poof.config.lineNumbers||poof.viewModes.lineNo($("#line-no")),poof.config.nightMode&&poof.viewModes.dark($("#night")),poof.config.fonts&&"object"==typeof poof.config.fonts){if(poof.config.fonts.main&&"string"==typeof poof.config.fonts.main)$(document.body).css("font-family",poof.config.fonts.main);if(poof.config.fonts.code&&"string"==typeof poof.config.fonts.code)$("div.passage-source pre").css("font-family",poof.config.fonts.code)}poof.config.globals&&Array.isArray(poof.config.globals)&&poof.config.globals.length&&Object.assign(poof.lint.globals,poof.lint.objectify(poof.config.globals)),$("pre.story-code").each(function(e,t){hljs.highlightBlock(t)}),$("pre").each(function(e,t){hljs.lineNumbersBlock(t)}),$(document).trigger(":load-close")}else console.error("BUILD ERROR")})}(); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jshint/2.9.6/jshint.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.54/pdfmake.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/chapelr/poof@latest/docs/use/vfs_fonts.js"></script> </body> </html>